{"version":3,"sources":["logic/contractInteraction/sources/ABIService/index.ts","routes/safe/components/Balances/SendModal/screens/ContractInteraction/ContractABI/index.tsx","routes/safe/components/Balances/SendModal/screens/ContractInteraction/FormErrorMessage/index.tsx","routes/safe/components/Balances/SendModal/screens/ContractInteraction/MethodsDropdown/index.tsx","routes/safe/components/Balances/SendModal/screens/ContractInteraction/RenderInputParams/InputComponent/ArrayTypeInput.tsx","routes/safe/components/Balances/SendModal/screens/ContractInteraction/RenderInputParams/InputComponent/index.tsx","routes/safe/components/Balances/SendModal/screens/ContractInteraction/RenderInputParams/index.tsx","routes/safe/components/Balances/SendModal/screens/ContractInteraction/RenderOutputParams/index.tsx","routes/safe/components/Balances/SendModal/screens/ContractInteraction/NativeCoinValue/index.tsx","routes/safe/components/Balances/SendModal/screens/ContractInteraction/index.tsx","../node_modules/@material-ui/icons/Search.js","../node_modules/@material-ui/core/esm/ListItemIcon/ListItemIcon.js","routes/safe/components/CurrencyDropdown/img/check.svg","routes/safe/components/CurrencyDropdown/style.ts"],"names":["getMethodSignature","inputs","name","params","map","x","type","join","getSignatureHash","signature","keccak256","toString","isAllowedMethod","getMethodAction","stateMutability","includes","extractUsefulMethods","abi","filter","method","action","methodSignature","signatureHash","getMethodSignatureAndSignatureHash","sort","a","b","toLowerCase","NO_DATA","hasUsefulMethods","JSON","parse","length","e","ContractABI","contractAddress","useField","subscription","value","input","mutators","useForm","setAbiValue","useRef","useEffect","validateAndSetAbi","isEthereumAddress","undefined","mustBeEthereumAddress","mustBeEthereumContractAddress","isEthereumContractAddress","parsePrefixedAddress","address","getContractABI","current","Row","margin","Col","TextAreaField","placeholder","text","validate","useStyles","makeStyles","styles","FormErrorMessage","classes","useFormState","modifiedSinceLastSubmit","submitError","align","className","fullWidth","Paragraph","color","noMargin","size","style","letterSpacing","overflowWrap","MENU_WIDTH","StyledText","styled","Text","MethodsDropdown","onChange","useDropdownStyles","buttonWidth","valid","meta","selectedMethodByDefault","initialValues","selectedMethod","useState","setSelectedMethod","methodsList","setMethodsList","methodsListFiltered","setMethodsListFiltered","anchorEl","setAnchorEl","searchParams","setSearchParams","handleClose","NO_CONTRACT","theme","DropdownListTheme","button","onClick","event","currentTarget","classNames","buttonInner","openMenuButton","Menu","anchorOrigin","horizontal","vertical","elevation","getContentAnchorEl","id","keepMounted","onClose","open","PaperProps","width","transformOrigin","MenuItem","listItemSearch","search","searchIcon","InputBase","root","inputRoot","inputInput","inputProps","target","dropdownItemsScrollWrapper","listItem","chosenMethod","ListItemText","primary","ListItemIcon","iconRight","alt","src","CheckIcon","validator","values","Array","isArray","typePlaceholder","isAddress","isBoolean","isUint","isInt","isByte","ArrayTypeInput","InputComponent","keyValue","Field","component","Checkbox","label","TextField","testId","composeValidators","required","mustBeAddressHash","isArrayParameter","RenderInputParams","validABI","index","key","generateFormFieldKey","output","lineHeight","height","overflowY","RenderOutputParams","results","multipleResults","outputs","multiline","disabled","rowsMax","NativeCoinValue","onSetMax","nativeCurrency","getNativeCurrency","ethBalance","useSelector","currentSafeEthBalance","Boolean","payable","isPayable","ButtonLink","weight","inputAdornment","endAdornment","InputAdornment","position","symbol","mustBeFloat","maxValue","ContractInteraction","setCallResults","isABI","onNext","switchMethod","safeAddress","extractSafeAddress","useMemo","saveForm","handleSubmit","submit","txObject","createTxObject","data","encodeABI","isReadMethod","call","from","result","handleSubmitError","ModalHeader","subTitle","title","Hairline","GnoForm","decorators","ensResolver","formMutators","onSubmit","submitting","pristine","validating","rest","Block","formContainer","SafeInfo","Divider","withArrow","EthAddressInput","onScannedValue","setContractAddress","setMax","Switch","checked","Buttons","requiresMethod","_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","default","React","_default","createElement","d","props","ref","other","_objectWithoutProperties","context","ListContext","_extends","clsx","alignItems","alignItemsFlexStart","withStyles","minWidth","palette","active","flexShrink","display","marginTop","maxWidth","boxSizing","padding","localFlag","backgroundPosition","backgroundRepeat","backgroundSize","etherFlag","iconLeft","marginRight","marginLeft","backgroundColor","border","borderRadius","cursor","fontSize","fontWeight","outline","textAlign","opacity","borderLeft","borderRight","borderTop","content","right","top","borderBottom","maxHeight","overflow","justifyContent","left","pointerEvents","transform","fill"],"mappings":"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","file":"static/js/65.d59bb1d5.chunk.js","sourcesContent":["import { AbiItem, keccak256 } from 'web3-utils'\n\nexport interface AllowedAbiItem extends AbiItem {\n  name: string\n  type: 'function'\n}\n\nexport interface AbiItemExtended extends AllowedAbiItem {\n  action: string\n  methodSignature: string\n  signatureHash: string\n}\n\nexport const getMethodSignature = ({ inputs, name }: AbiItem): string => {\n  const params = inputs?.map((x) => x.type).join(',')\n  return `${name}(${params})`\n}\n\nexport const getSignatureHash = (signature: string): string => {\n  return keccak256(signature).toString()\n}\n\nexport const getMethodHash = (method: AbiItem): string => {\n  const signature = getMethodSignature(method)\n  return getSignatureHash(signature)\n}\n\nexport const getMethodSignatureAndSignatureHash = (\n  method: AbiItem,\n): { methodSignature: string; signatureHash: string } => {\n  const methodSignature = getMethodSignature(method)\n  const signatureHash = getSignatureHash(methodSignature)\n  return { methodSignature, signatureHash }\n}\n\nexport const isAllowedMethod = ({ name, type }: AbiItem): boolean => {\n  return type === 'function' && !!name\n}\n\nexport const getMethodAction = ({ stateMutability }: AbiItem): 'read' | 'write' => {\n  if (!stateMutability) {\n    return 'write'\n  }\n\n  return ['view', 'pure'].includes(stateMutability) ? 'read' : 'write'\n}\n\nexport const extractUsefulMethods = (abi: AbiItem[]): AbiItemExtended[] => {\n  const allowedAbiItems = abi.filter(isAllowedMethod) as AllowedAbiItem[]\n\n  return allowedAbiItems\n    .map(\n      (method): AbiItemExtended => ({\n        action: getMethodAction(method),\n        ...getMethodSignatureAndSignatureHash(method),\n        ...method,\n      }),\n    )\n    .sort(({ name: a }, { name: b }) => {\n      return a.toLowerCase() > b.toLowerCase() ? 1 : -1\n    })\n}\n\nexport const isPayable = (method: AbiItem | AbiItemExtended): boolean => {\n  return Boolean(method?.payable) || method.stateMutability === 'payable'\n}\n","import { useField, useForm } from 'react-final-form'\nimport { useRef, useEffect } from 'react'\n\nimport { TextAreaField } from 'src/components/forms/TextAreaField'\nimport { mustBeEthereumAddress, mustBeEthereumContractAddress } from 'src/components/forms/validator'\nimport Col from 'src/components/layout/Col'\nimport Row from 'src/components/layout/Row'\nimport { getContractABI } from 'src/config'\nimport { extractUsefulMethods } from 'src/logic/contractInteraction/sources/ABIService'\nimport { parsePrefixedAddress } from 'src/utils/prefixedAddress'\n\nexport const NO_DATA = 'no data'\n\nconst hasUsefulMethods = (abi: string): undefined | string => {\n  try {\n    const parsedABI = extractUsefulMethods(JSON.parse(abi))\n\n    if (parsedABI.length === 0) {\n      return NO_DATA\n    }\n  } catch (e) {\n    return NO_DATA\n  }\n}\n\nconst ContractABI = (): React.ReactElement => {\n  const {\n    input: { value: contractAddress },\n  } = useField('contractAddress', { subscription: { value: true } })\n  const { mutators } = useForm()\n  const setAbiValue = useRef(mutators.setAbiValue)\n\n  useEffect(() => {\n    const validateAndSetAbi = async () => {\n      const isEthereumAddress = mustBeEthereumAddress(contractAddress) === undefined\n      const isEthereumContractAddress = (await mustBeEthereumContractAddress(contractAddress)) === undefined\n\n      if (isEthereumAddress && isEthereumContractAddress) {\n        const { address } = parsePrefixedAddress(contractAddress)\n        const abi = await getContractABI(address)\n        const isValidABI = hasUsefulMethods(abi) === undefined\n\n        // this check may help in scenarios where the user first pastes the ABI,\n        // and then sets a Proxy contract that has no useful methods\n        if (isValidABI) {\n          setAbiValue.current(abi)\n        }\n      }\n    }\n\n    if (contractAddress) {\n      validateAndSetAbi()\n    }\n  }, [contractAddress])\n\n  return (\n    <Row margin=\"sm\">\n      <Col>\n        <TextAreaField name=\"abi\" placeholder=\"ABI*\" text=\"ABI*\" type=\"text\" validate={hasUsefulMethods} />\n      </Col>\n    </Row>\n  )\n}\n\nexport default ContractABI\n","import { makeStyles } from '@material-ui/core/styles'\n\nimport { useFormState } from 'react-final-form'\n\nimport Row from 'src/components/layout/Row'\nimport Paragraph from 'src/components/layout/Paragraph'\nimport { styles } from 'src/routes/safe/components/Balances/SendModal/screens/ContractInteraction/style'\n\nconst useStyles = makeStyles(styles)\n\nconst FormErrorMessage = (): React.ReactElement | null => {\n  const classes = useStyles()\n  const { modifiedSinceLastSubmit, submitError } = useFormState({\n    subscription: { modifiedSinceLastSubmit: true, submitError: true },\n  })\n\n  const hasNewSubmitError = !!submitError && !modifiedSinceLastSubmit\n  return hasNewSubmitError ? (\n    <Row align=\"center\" className={classes.fullWidth} margin=\"xs\">\n      <Paragraph color=\"error\" noMargin size=\"md\" style={{ letterSpacing: '-0.5px', overflowWrap: 'anywhere' }}>\n        {submitError}\n      </Paragraph>\n    </Row>\n  ) : null\n}\n\nexport default FormErrorMessage\n","import InputBase from '@material-ui/core/InputBase'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Menu from '@material-ui/core/Menu'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport SearchIcon from '@material-ui/icons/Search'\nimport classNames from 'classnames'\nimport { ReactElement, useEffect, useState } from 'react'\nimport { useField, useFormState } from 'react-final-form'\nimport { AbiItem } from 'web3-utils'\n\nimport Col from 'src/components/layout/Col'\nimport Row from 'src/components/layout/Row'\nimport { NO_CONTRACT } from 'src/routes/safe/components/Balances/SendModal/screens/ContractInteraction/utils'\nimport CheckIcon from 'src/routes/safe/components/CurrencyDropdown/img/check.svg'\nimport { useDropdownStyles } from 'src/routes/safe/components/CurrencyDropdown/style'\nimport { DropdownListTheme } from 'src/theme/mui'\nimport { extractUsefulMethods, AbiItemExtended } from 'src/logic/contractInteraction/sources/ABIService'\nimport { Text } from '@gnosis.pm/safe-react-components'\nimport styled from 'styled-components'\n\nconst MENU_WIDTH = '452px'\n\nconst StyledText = styled(Text)`\n  padding: 4px 0 0 8px;\n`\n\ninterface MethodsDropdownProps {\n  onChange: (method: AbiItem) => void\n}\n\nexport const MethodsDropdown = ({ onChange }: MethodsDropdownProps): ReactElement | null => {\n  const classes = useDropdownStyles({ buttonWidth: MENU_WIDTH })\n  const {\n    input: { value: abi },\n    meta: { valid },\n  } = useField('abi', { subscription: { value: true, valid: true } })\n  const {\n    initialValues: { selectedMethod: selectedMethodByDefault },\n  } = useFormState({ subscription: { initialValues: true } })\n  const [selectedMethod, setSelectedMethod] = useState(selectedMethodByDefault ? selectedMethodByDefault : {})\n  const [methodsList, setMethodsList] = useState<AbiItemExtended[]>([])\n  const [methodsListFiltered, setMethodsListFiltered] = useState<AbiItemExtended[]>([])\n\n  const [anchorEl, setAnchorEl] = useState(null)\n  const [searchParams, setSearchParams] = useState('')\n\n  useEffect(() => {\n    if (abi) {\n      try {\n        setMethodsList(extractUsefulMethods(JSON.parse(abi)))\n      } catch (e) {\n        setMethodsList([])\n      }\n    }\n  }, [abi])\n\n  useEffect(() => {\n    setMethodsListFiltered(methodsList.filter(({ name }) => name?.toLowerCase().includes(searchParams.toLowerCase())))\n  }, [methodsList, searchParams])\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget)\n  }\n\n  const handleClose = () => {\n    setAnchorEl(null)\n  }\n\n  const onMethodSelectedChanged = (chosenMethod: AbiItem) => {\n    setSelectedMethod(chosenMethod)\n    onChange(chosenMethod)\n    handleClose()\n  }\n\n  if (!valid || !abi || abi === NO_CONTRACT) {\n    return null\n  }\n\n  return (\n    <Row margin=\"sm\">\n      <Col>\n        <MuiThemeProvider theme={DropdownListTheme}>\n          <>\n            <button className={classes.button} onClick={handleClick} type=\"button\">\n              <StyledText\n                size=\"md\"\n                color=\"placeHolder\"\n                className={classNames(classes.buttonInner, anchorEl && classes.openMenuButton)}\n              >\n                {(selectedMethod as Record<string, string>).name || 'Method'}\n              </StyledText>\n            </button>\n            <Menu\n              anchorEl={anchorEl}\n              anchorOrigin={{\n                horizontal: 'center',\n                vertical: 'bottom',\n              }}\n              elevation={0}\n              getContentAnchorEl={null}\n              id=\"customizedMenu\"\n              keepMounted\n              onClose={handleClose}\n              open={!!anchorEl}\n              PaperProps={{ style: { width: MENU_WIDTH } }}\n              transformOrigin={{\n                horizontal: 'center',\n                vertical: 'top',\n              }}\n            >\n              <MenuItem className={classes.listItemSearch} key=\"0\">\n                <div className={classes.search}>\n                  <div className={classes.searchIcon}>\n                    <SearchIcon />\n                  </div>\n                  <InputBase\n                    classes={{\n                      root: classes.inputRoot,\n                      input: classes.inputInput,\n                    }}\n                    inputProps={{ 'aria-label': 'search' }}\n                    onChange={(event) => setSearchParams(event.target.value)}\n                    placeholder=\"Searchâ€¦\"\n                    value={searchParams}\n                  />\n                </div>\n              </MenuItem>\n              <div className={classes.dropdownItemsScrollWrapper}>\n                {methodsListFiltered.map((method) => {\n                  const { action, name, signatureHash } = method\n\n                  return (\n                    <MenuItem\n                      className={classes.listItem}\n                      key={signatureHash}\n                      onClick={() => onMethodSelectedChanged(method)}\n                      value={signatureHash}\n                    >\n                      <ListItemText primary={name} />\n                      <ListItemIcon className={classes.iconRight}>\n                        {signatureHash === (selectedMethod as Record<string, string>).signatureHash ? (\n                          <img alt=\"checked\" src={CheckIcon} />\n                        ) : (\n                          <span />\n                        )}\n                      </ListItemIcon>\n                      <ListItemIcon className={classes.iconRight}>\n                        <div>{action}</div>\n                      </ListItemIcon>\n                    </MenuItem>\n                  )\n                })}\n              </div>\n            </Menu>\n          </>\n        </MuiThemeProvider>\n      </Col>\n    </Row>\n  )\n}\n","import { TextAreaField } from 'src/components/forms/TextAreaField'\nimport {\n  isAddress,\n  isBoolean,\n  isByte,\n  isInt,\n  isUint,\n} from 'src/routes/safe/components/Balances/SendModal/screens/ContractInteraction/utils'\n\nconst validator = (value: string): string | undefined => {\n  try {\n    const values = JSON.parse(value)\n\n    if (!Array.isArray(values)) {\n      return 'be sure to surround value with []'\n    }\n  } catch (e) {\n    return 'invalid format'\n  }\n}\n\nconst typePlaceholder = (text: string, type: string): string => {\n  if (isAddress(type)) {\n    return `${text} E.g.: [\"0xACa94ef8bD5ffEE41947b4585a84BdA5a3d3DA6E\",\"0x1dF62f291b2E969fB0849d99D9Ce41e2F137006e\"]`\n  }\n\n  if (isBoolean(type)) {\n    return `${text} E.g.: [true, false, false, true]`\n  }\n\n  if (isUint(type)) {\n    return `${text} E.g.: [1000, 212, 320000022, 23]`\n  }\n\n  if (isInt(type)) {\n    return `${text} E.g.: [1000, -212, 1232, -1]`\n  }\n\n  if (isByte(type)) {\n    return `${text} E.g.: [\"0xc00000000000000000000000000000000000\", \"0xc00000000000000000000000000000000001\"]`\n  }\n\n  return `${text} E.g.: [\"first value\", \"second value\", \"third value\"]`\n}\n\nconst ArrayTypeInput = ({ name, text, type }: { name: string; text: string; type: string }): React.ReactElement => (\n  <TextAreaField name={name} placeholder={typePlaceholder(text, type)} text={text} type=\"text\" validate={validator} />\n)\n\nexport default ArrayTypeInput\n","import { Checkbox } from '@gnosis.pm/safe-react-components'\nimport { ReactElement } from 'react'\n\nimport Col from 'src/components/layout/Col'\nimport Field from 'src/components/forms/Field'\nimport TextField from 'src/components/forms/TextField'\n\nimport { composeValidators, mustBeAddressHash, required } from 'src/components/forms/validator'\nimport { isArrayParameter } from 'src/routes/safe/components/Balances/SendModal/screens/ContractInteraction/utils'\nimport ArrayTypeInput from './ArrayTypeInput'\n\ntype Props = {\n  type: string\n  keyValue: string\n  placeholder: string\n}\n\nexport const InputComponent = ({ type, keyValue, placeholder }: Props): ReactElement | null => {\n  if (!type) {\n    return null\n  }\n\n  switch (type) {\n    case 'bool': {\n      const inputProps = {\n        'data-testid': keyValue,\n      }\n      return (\n        <Col>\n          <Field component={Checkbox} name={keyValue} label={placeholder} type=\"checkbox\" inputProps={inputProps} />\n        </Col>\n      )\n    }\n    case 'address': {\n      return (\n        <Col>\n          <Field\n            component={TextField}\n            name={keyValue}\n            placeholder={placeholder}\n            testId={keyValue}\n            text={placeholder}\n            type=\"text\"\n            validate={composeValidators(required, mustBeAddressHash)}\n          />\n        </Col>\n      )\n    }\n    default: {\n      return (\n        <Col>\n          {isArrayParameter(type) ? (\n            <ArrayTypeInput name={keyValue} text={placeholder} type={type} />\n          ) : (\n            <Field\n              component={TextField}\n              name={keyValue}\n              placeholder={placeholder}\n              testId={keyValue}\n              text={placeholder}\n              type=\"text\"\n              validate={required}\n            />\n          )}\n        </Col>\n      )\n    }\n  }\n}\n","import { ReactElement } from 'react'\nimport { useField } from 'react-final-form'\n\nimport Row from 'src/components/layout/Row'\n\nimport { InputComponent } from './InputComponent'\nimport { generateFormFieldKey } from '../utils'\nimport { AbiItemExtended } from 'src/logic/contractInteraction/sources/ABIService'\n\nexport const RenderInputParams = (): ReactElement | null => {\n  const {\n    meta: { valid: validABI },\n  } = useField('abi', { subscription: { valid: true, value: true } })\n  const {\n    input: { value: method },\n  }: { input: { value: AbiItemExtended } } = useField('selectedMethod', { subscription: { value: true } })\n  const renderInputs = validABI && !!method && method.inputs?.length\n\n  return !renderInputs ? null : (\n    <>\n      {method.inputs?.map(({ name, type }, index) => {\n        const placeholder = name ? `${name} (${type})` : type\n        const key = generateFormFieldKey(type, method.signatureHash, index)\n\n        return (\n          <Row key={key} margin=\"sm\">\n            <InputComponent type={type} keyValue={key} placeholder={placeholder} />\n          </Row>\n        )\n      })}\n    </>\n  )\n}\n","import { ReactElement } from 'react'\nimport { useField } from 'react-final-form'\nimport { makeStyles } from '@material-ui/core/styles'\nimport TextField from 'src/components/forms/TextField'\nimport Col from 'src/components/layout/Col'\nimport Paragraph from 'src/components/layout/Paragraph'\nimport Row from 'src/components/layout/Row'\n\nconst useStyles = makeStyles({\n  output: {\n    '& > div > textarea': {\n      letterSpacing: '-0.5px',\n      lineHeight: '20px',\n      height: '40px',\n      overflowY: 'auto',\n    },\n  },\n})\n\nexport const RenderOutputParams = (): ReactElement | null => {\n  const classes = useStyles()\n  const {\n    input: { value: method },\n  }: any = useField('selectedMethod', { subscription: { value: true } })\n  const {\n    input: { value: results },\n  }: any = useField('callResults', { subscription: { value: true } })\n  const multipleResults = !!method && method.outputs.length > 1\n\n  if (results == null || results === '') {\n    return null\n  }\n\n  return (\n    <>\n      <Row align=\"left\" margin=\"xs\">\n        <Paragraph color=\"primary\" size=\"lg\" style={{ letterSpacing: '-0.5px' }}>\n          Call result:\n        </Paragraph>\n      </Row>\n      {method.outputs?.map(({ name, type }, index) => {\n        const placeholder = name ? `${name} (${type})` : type\n        const key = `methodCallResult-${method.name}_${index}_${type}`\n        const value = multipleResults ? results[index] : results\n\n        return (\n          <Row key={key} margin=\"sm\">\n            <Col>\n              <TextField\n                className={classes.output}\n                multiline\n                disabled\n                rowsMax={3}\n                input={{ name: key, value: value.toString(), placeholder, type: 'text' }}\n                meta={{ valid: true }}\n                testId={key}\n                text={placeholder}\n              />\n            </Col>\n          </Row>\n        )\n      })}\n    </>\n  )\n}\n","import InputAdornment from '@material-ui/core/InputAdornment'\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport { useField } from 'react-final-form'\nimport { useSelector } from 'react-redux'\n\nimport Field from 'src/components/forms/Field'\nimport TextField from 'src/components/forms/TextField'\nimport { composeValidators, maxValue, mustBeFloat } from 'src/components/forms/validator'\nimport ButtonLink from 'src/components/layout/ButtonLink'\nimport Col from 'src/components/layout/Col'\nimport Paragraph from 'src/components/layout/Paragraph'\nimport Row from 'src/components/layout/Row'\nimport { isPayable } from 'src/logic/contractInteraction/sources/ABIService'\nimport { styles } from 'src/routes/safe/components/Balances/SendModal/screens/ContractInteraction/style'\nimport { currentSafeEthBalance } from 'src/logic/safe/store/selectors'\nimport { getNativeCurrency } from 'src/config'\n\nconst useStyles = makeStyles(styles)\n\ninterface NativeCoinValueProps {\n  onSetMax: (nativeCoinBalance: string) => void\n}\n\nexport const NativeCoinValue = ({ onSetMax }: NativeCoinValueProps): React.ReactElement | null => {\n  const classes = useStyles()\n  const nativeCurrency = getNativeCurrency()\n  const ethBalance = useSelector(currentSafeEthBalance)\n\n  const {\n    input: { value: method },\n  } = useField('selectedMethod', { subscription: { value: true } })\n  const disabled = !isPayable(method)\n\n  if (!ethBalance) {\n    return null\n  }\n\n  return disabled ? null : (\n    <>\n      <Row className={classes.fullWidth} margin=\"xs\">\n        <Paragraph color=\"disabled\" noMargin size=\"md\" style={{ letterSpacing: '-0.5px' }}>\n          Value\n        </Paragraph>\n        <ButtonLink\n          color={disabled ? 'disabled' : 'secondary'}\n          onClick={() => !disabled && onSetMax(ethBalance)}\n          weight=\"bold\"\n        >\n          Send max\n        </ButtonLink>\n      </Row>\n      <Row margin=\"md\">\n        <Col>\n          <Field\n            component={TextField}\n            disabled={disabled}\n            inputAdornment={{\n              endAdornment: <InputAdornment position=\"end\">{nativeCurrency.symbol}</InputAdornment>,\n              disabled,\n            }}\n            name=\"value\"\n            placeholder=\"Value\"\n            text=\"Value\"\n            type=\"text\"\n            validate={!disabled && composeValidators(mustBeFloat, maxValue(ethBalance))}\n          />\n        </Col>\n      </Row>\n    </>\n  )\n}\n","import { makeStyles } from '@material-ui/core/styles'\nimport { useMemo } from 'react'\nimport Switch from '@material-ui/core/Switch'\n\nimport { styles } from './style'\nimport Divider from 'src/components/Divider'\nimport GnoForm from 'src/components/forms/GnoForm'\nimport Block from 'src/components/layout/Block'\nimport Hairline from 'src/components/layout/Hairline'\nimport SafeInfo from 'src/routes/safe/components/Balances/SendModal/SafeInfo'\nimport Paragraph from 'src/components/layout/Paragraph'\nimport Buttons from './Buttons'\nimport ContractABI from './ContractABI'\nimport { EthAddressInput } from './EthAddressInput'\nimport FormErrorMessage from './FormErrorMessage'\nimport { MethodsDropdown } from './MethodsDropdown'\nimport { RenderInputParams } from './RenderInputParams'\nimport { RenderOutputParams } from './RenderOutputParams'\nimport { createTxObject, formMutators, handleSubmitError, isReadMethod, ensResolver } from './utils'\nimport { TransactionReviewType } from './Review'\nimport { NativeCoinValue } from './NativeCoinValue'\nimport { ModalHeader } from '../ModalHeader'\nimport { extractSafeAddress } from 'src/routes/routes'\n\nconst useStyles = makeStyles(styles)\n\nexport interface CreatedTx {\n  contractAddress: string\n  data: string\n  selectedMethod: TransactionReviewType\n  value: string | number\n}\n\nexport type ContractInteractionTx = {\n  contractAddress?: string\n}\n\nexport interface ContractInteractionProps {\n  contractAddress?: string\n  initialValues: ContractInteractionTx\n  isABI: boolean\n  onClose: () => void\n  switchMethod: () => void\n  onNext: (tx: CreatedTx, submit: boolean) => void\n}\n\nconst ContractInteraction: React.FC<ContractInteractionProps> = ({\n  contractAddress,\n  initialValues,\n  isABI,\n  onClose,\n  onNext,\n  switchMethod,\n}) => {\n  const classes = useStyles()\n  const safeAddress = extractSafeAddress()\n  let setCallResults\n\n  useMemo(() => {\n    if (contractAddress) {\n      initialValues.contractAddress = contractAddress\n    }\n  }, [contractAddress, initialValues])\n\n  const saveForm = async (values: CreatedTx): Promise<void> => {\n    await handleSubmit(values, false)\n    switchMethod()\n  }\n\n  const handleSubmit = async (\n    { contractAddress, selectedMethod, value, ...values },\n    submit = true,\n  ): Promise<void | Record<string, string>> => {\n    if (value || (contractAddress && selectedMethod)) {\n      try {\n        const txObject = createTxObject(selectedMethod, contractAddress, values)\n        const data = txObject.encodeABI()\n\n        if (isReadMethod(selectedMethod) && submit) {\n          const result = await txObject.call({ from: safeAddress })\n          setCallResults(result)\n\n          // this was a read method, so we won't go to the 'review' screen\n          return\n        }\n\n        onNext({ ...values, contractAddress, data, selectedMethod, value }, submit)\n      } catch (error) {\n        return handleSubmitError(error, values)\n      }\n    }\n  }\n\n  return (\n    <>\n      <ModalHeader onClose={onClose} subTitle=\"1 of 2\" title=\"Contract interaction\" />\n      <Hairline />\n      <GnoForm\n        decorators={[ensResolver]}\n        formMutators={formMutators}\n        initialValues={initialValues}\n        onSubmit={handleSubmit}\n        subscription={{ submitting: true, pristine: true, values: true }}\n      >\n        {(submitting, validating, rest, mutators) => {\n          setCallResults = mutators.setCallResults\n          return (\n            <>\n              <Block className={classes.formContainer}>\n                <SafeInfo />\n                <Divider withArrow />\n                <EthAddressInput\n                  name=\"contractAddress\"\n                  onScannedValue={mutators.setContractAddress}\n                  text=\"Contract address*\"\n                />\n                <ContractABI />\n                <MethodsDropdown onChange={mutators.setSelectedMethod} />\n                <NativeCoinValue onSetMax={mutators.setMax} />\n                <RenderInputParams />\n                <RenderOutputParams />\n                <FormErrorMessage />\n                <Paragraph color=\"disabled\" noMargin size=\"lg\" style={{ letterSpacing: '-0.5px' }}>\n                  <Switch checked={!isABI} onChange={() => saveForm(rest.values)} />\n                  Use custom data (hex encoded)\n                </Paragraph>\n              </Block>\n              <Buttons onClose={onClose} requiresMethod />\n            </>\n          )\n        }}\n      </GnoForm>\n    </>\n  )\n}\n\nexport default ContractInteraction\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n}), 'Search');\n\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport ListContext from '../List/ListContext';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      minWidth: 56,\n      color: theme.palette.action.active,\n      flexShrink: 0,\n      display: 'inline-flex'\n    },\n\n    /* Styles applied to the root element when the parent `ListItem` uses `alignItems=\"flex-start\"`. */\n    alignItemsFlexStart: {\n      marginTop: 8\n    }\n  };\n};\n/**\n * A simple wrapper to apply `List` styles to an `Icon` or `SvgIcon`.\n */\n\nvar ListItemIcon = /*#__PURE__*/React.forwardRef(function ListItemIcon(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\"]);\n\n  var context = React.useContext(ListContext);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, context.alignItems === 'flex-start' && classes.alignItemsFlexStart),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemIcon.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component, normally `Icon`, `SvgIcon`,\n   * or a `@material-ui/icons` SVG icon element.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiListItemIcon'\n})(ListItemIcon);","export default __webpack_public_path__ + \"static/media/check.7da64643.svg\";","import { makeStyles } from '@material-ui/core/styles'\n\nconst buttonWidth = '140px'\nexport const useDropdownStyles = makeStyles({\n  listItem: {\n    maxWidth: (props: any) => (props.buttonWidth ? props.buttonWidth : buttonWidth),\n    boxSizing: 'border-box',\n  },\n  listItemSearch: {\n    maxWidth: (props: any) => (props.buttonWidth ? props.buttonWidth : buttonWidth),\n    padding: '0',\n    boxSizing: 'border-box',\n  },\n  localFlag: {\n    backgroundPosition: '50% 50%',\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'contain',\n    height: '20px !important',\n    width: '26px !important',\n  },\n  etherFlag: {\n    backgroundPosition: '50% 50%',\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'contain',\n    width: '26px',\n    height: '26px',\n  },\n  iconLeft: {\n    marginRight: '10px',\n  },\n  iconRight: {\n    marginLeft: '18px',\n  },\n  button: {\n    backgroundColor: '#e8e7e6',\n    border: 'none',\n    borderRadius: '3px',\n    boxSizing: 'border-box',\n    color: '#5d6d74',\n    cursor: 'pointer',\n    fontSize: '12px',\n    fontWeight: 'normal',\n    height: '24px',\n    lineHeight: '1.33',\n    marginRight: '20px',\n    minWidth: (props: any) => (props.buttonWidth ? props.buttonWidth : buttonWidth),\n    outline: 'none',\n    padding: '0',\n    textAlign: 'left',\n    '&:active': {\n      opacity: '0.8',\n    },\n  },\n  buttonInner: {\n    boxSizing: 'border-box',\n    display: 'block',\n    height: '100%',\n    lineHeight: '24px',\n    padding: '0 22px 0 8px',\n    position: 'relative',\n    width: '100%',\n    '&::after': {\n      borderLeft: '5px solid transparent',\n      borderRight: '5px solid transparent',\n      borderTop: '5px solid #5d6d74',\n      content: '\"\"',\n      height: '0',\n      position: 'absolute',\n      right: '8px',\n      top: '9px',\n      width: '0',\n    },\n  },\n  openMenuButton: {\n    '&::after': {\n      borderBottom: '5px solid #5d6d74',\n      borderLeft: '5px solid transparent',\n      borderRight: '5px solid transparent',\n      borderTop: 'none',\n    },\n  },\n  dropdownItemsScrollWrapper: {\n    maxHeight: '280px',\n    overflow: 'auto',\n  },\n  search: {\n    position: 'relative',\n    borderRadius: '0',\n    backgroundColor: '#fff',\n    '&:hover': {\n      backgroundColor: '#fff',\n    },\n    marginRight: 0,\n    width: '100%',\n  },\n  searchIcon: {\n    alignItems: 'center',\n    display: 'flex',\n    height: '100%',\n    justifyContent: 'center',\n    left: '12px',\n    margin: '0',\n    pointerEvents: 'none',\n    position: 'absolute',\n    top: '50%',\n    transform: 'translateY(-50%)',\n    width: '18px',\n    '& path': {\n      fill: '#b2b5b2',\n    },\n  },\n  inputRoot: {\n    color: '#5d6d74',\n    fontSize: '14px',\n    fontWeight: 'normal',\n    lineHeight: '1.43',\n    width: '100%',\n  },\n  inputInput: {\n    boxSizing: 'border-box',\n    height: '44px',\n    padding: '12px 12px 12px 40px',\n    width: '100%',\n  },\n})\n"],"sourceRoot":""}