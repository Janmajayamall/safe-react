(this["webpackJsonpsafe-react"]=this["webpackJsonpsafe-react"]||[]).push([[50],{1595:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(39),a=n(427),c=n(0),o=n.p+"static/media/qrcode.fec1b6d8.svg",s=n(436),i=n(352),d=n.n(i),l=n(1624),j=n.n(l),b=n(10),u=n(550),h=Object(u.a)({heading:{padding:b.lg,justifyContent:"space-between",maxHeight:"75px",boxSizing:"border-box"},loaderContainer:{width:"100%",height:"100%"},close:{height:"25px",width:"25px",color:b.secondaryText},detailsContainer:{backgroundColor:b.background,maxHeight:"450px"},buttonRow:{height:"84px",justifyContent:"center"},button:{"&:last-child":{marginLeft:b.sm}}}),O=n(349),m=n(153),x=n(193),g=n(113),p=n(178),f=n(78),w=n(111),v=n(1),C=Object(a.a)(h),N=function(e){var t=e.isOpen,n=e.onClose,a=e.onScan,o=C(),i=Object(c.useState)(!1),l=Object(r.a)(i,2),b=l[0],u=l[1],h=Object(c.useState)(null),N=Object(r.a)(h,2),y=N[0],S=N[1],k=Object(c.useState)(!1),R=Object(r.a)(k,2),P=R[0],_=R[1],T=c.createRef(),A=c.useCallback((function(){T.current.openImageDialog()}),[T]);Object(c.useEffect)((function(){b||!P||y||(u(!0),A())}),[P,A,b,u,y]);var E=function(e,t){if(e)return console.error("QR code error",e),void("NotAllowedError"===e.name||"PermissionDismissedError"===e.name?(_(!0),u(!1)):S("The QR could not be read"));t?a(t):P&&S("The QR could not be read")};return Object(v.jsxs)(O.c,{description:"Receive Tokens Form",handleClose:n,open:t,title:"Receive Tokens",children:[Object(v.jsxs)(w.a,{align:"center",className:o.heading,grow:!0,children:[Object(v.jsx)(f.a,{noMargin:!0,size:"xl",children:"Scan QR"}),Object(v.jsx)(s.a,{disableRipple:!0,onClick:n,children:Object(v.jsx)(d.a,{className:o.close})})]}),Object(v.jsx)(p.a,{}),Object(v.jsxs)(g.a,{className:o.detailsContainer,layout:"column",middle:"xs",children:[y&&Object(v.jsx)(m.a,{padding:"md",margin:"md",children:y}),Object(v.jsx)(j.a,{legacyMode:P,onError:function(e){return E(e,null)},onScan:function(e){return E(null,e)},ref:T,style:{width:"400px",height:"400px"},facingMode:"user"})]}),Object(v.jsx)(p.a,{}),Object(v.jsxs)(w.a,{align:"center",className:o.buttonRow,children:[Object(v.jsx)(x.a,{className:o.button,color:"secondary",minWidth:154,onClick:n,children:"Close"}),Object(v.jsx)(x.a,{className:o.button,color:"primary",minWidth:154,onClick:function(){_(!0),S(null),u(!1)},variant:"contained",children:"Upload an image"})]})]})},y=n(129),S=Object(a.a)({qrCodeBtn:{cursor:"pointer"}}),k=function(e){var t=e.handleScan,n=e.testId,a=S(),s=Object(c.useState)(!1),i=Object(r.a)(s,2),d=i[0],l=i[1],j=function(){l(!1)};return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(y.a,{alt:"Scan QR",className:a.qrCodeBtn,height:20,onClick:function(){l(!0)},role:"button",src:o,testId:n||"qr-icon"}),d&&Object(v.jsx)(N,{isOpen:d,onClose:j,onScan:function(e){t(e,j)}})]})}},1603:function(e,t,n){"use strict";var r=n(8),a=n(60),c=n(551),o=n(552),s=n(1479),i=n(557),d=n(1),l=["name","onChange","value"],j=["classes","disableError","formControlProps","input","label","meta","renderValue"],b={minWidth:"100%"};t.a=function(e){var t=e.classes,n=e.disableError,u=e.formControlProps,h=e.input,O=h.name,m=h.onChange,x=h.value,g=Object(a.a)(h,l),p=e.label,f=e.meta,w=e.renderValue,v=Object(a.a)(e,j),C=(f.submitError&&!f.dirtySinceLastSubmit||f.error)&&f.touched&&!n,N=Object(r.a)(Object(r.a)({},g),{},{name:O});return Object(d.jsxs)(c.a,Object(r.a)(Object(r.a)({},u),{},{error:C,style:b,children:[Object(d.jsx)(s.a,{htmlFor:O,children:p}),Object(d.jsx)(i.a,Object(r.a)({classes:t,inputProps:N,onChange:m,renderValue:w,value:x},v)),C&&Object(d.jsx)(o.a,{children:f.error||f.submitError})]}))}},1611:function(e,t,n){"use strict";var r=n(8),a=n(60),c=n(123),o=n.n(c),s=n(0),i=n(1616),d=n.n(i),l=n(71),j=["align","children","className","color","margin","tag","testId","truncate"],b=o.a.bind(d.a);t.a=function(e){var t=e.align,n=e.children,c=e.className,o=void 0===c?"":c,i=e.color,d=e.margin,u=e.tag,h=e.testId,O=e.truncate,m=Object(a.a)(e,j),x=b(o,"heading",t,u,d?Object(l.a)(d,"margin"):void 0,i,{truncate:O});return s.createElement(u,Object(r.a)(Object(r.a)({},m),{},{className:x,"data-testid":h||""}),n)}},1613:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(7),a=n(9),c=n(11),o=n(12),s=n(596),i=n(599),d=n(597),l=n(798),j=n(0),b=n(1),u=function(e){if(e)return{maxWidth:"".concat(e,"px")}},h=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).changeSort=function(t,n){return function(){(0,e.props.onSort)(t,n)}},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.columns,r=t.order,a=t.orderBy;return Object(b.jsx)(i.a,{children:Object(b.jsx)(d.a,{children:n.map((function(t){return Object(b.jsx)(s.a,{align:t.align,padding:t.disablePadding?"none":"normal",sortDirection:a===t.id&&r,children:t.static?Object(b.jsx)("div",{style:t.style,children:t.label}):Object(b.jsx)(l.a,{active:a===t.id,direction:r,onClick:e.changeSort(t.id,t.order),style:t.style,children:t.label})},t.id)}))})})}}]),n}(j.PureComponent);t.b=h},1616:function(e,t,n){e.exports={heading:"Heading_heading__3Wz9P",h1:"Heading_h1__MXfCA",h2:"Heading_h2__3X6Ts",h3:"Heading_h3__1k2fD",h4:"Heading_h4__1YCmR",center:"Heading_center__28MHY",right:"Heading_right__1fQM1",truncate:"Heading_truncate__2Lq93",marginSm:"Heading_marginSm__13YwX",marginMd:"Heading_marginMd__2AnZN",marginLg:"Heading_marginLg__2ZfEq",marginXl:"Heading_marginXl__3RHt7",soft:"Heading_soft__2Zu43",medium:"Heading_medium__2X8Z-",dark:"Heading_dark__Ds2QB",fancy:"Heading_fancy__1Wx6l",warning:"Heading_warning__2lrZC",primary:"Heading_primary__2hOk2",secondary:"Heading_secondary__37lKs",disabled:"Heading_disabled__30DjG",error:"Heading_error__t5ujr",white:"Heading_white__2gkIK"}},1626:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n(1569);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}r.Component,r.Component;var s=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={previous:t.input.value},n}o(t,e);var n=t.prototype;return n.componentDidUpdate=function(){var e=this.props,t=e.children,n=e.input.value,r=this.state.previous;n!==r&&(this.setState({previous:n}),t(n,r))},n.render=function(){return null},t}(r.Component),i=function(e){var t=e.name,n=e.children;return Object(r.createElement)(a.a,{name:t,subscription:{value:!0},allowNull:!0,render:function(e){return Object(r.createElement)(s,c({},e,{children:n}))}})};r.Component},1631:function(e,t,n){"use strict";var r=n(7),a=n(9),c=n(11),o=n(12),s=n(26),i=n(631),d=n(598),l=n(1760),j=n(17),b=n(0),u=n(1613),h=n(74),O=function(e,t,n,r,a){var c=r?"".concat(n,"Order"):n;return a(t[c])<a(e[c])?-1:a(t[c])>a(e[c])?1:0},m=n(111),x=n(10),g=n(1),p={root:{backgroundColor:"white",borderTopRightRadius:x.sm,borderTopLeftRadius:x.sm,boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)"},selectRoot:{lineHeight:x.xxl,backgroundColor:"white"},white:{backgroundColor:"white"},paginationRoot:{backgroundColor:"white",boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)",marginBottom:"90px",borderBottomRightRadius:x.sm,borderBottomLeftRadius:x.sm},loader:{boxShadow:"1px 2px 10px 0 rgba(212, 212, 211, 0.59)"}},f={"aria-label":"Previous Page"},w={"aria-label":"Next Page"},v=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).onSort=function(e,t){var n=a.state,r=n.order,c=n.orderBy,o=a.props.defaultOrder,s="desc";r&&c===e&&"desc"===r?s="asc":r||"desc"!==o||(s="asc"),a.setState((function(){return{order:s,orderBy:e,orderProp:t,fixed:!1}}))},a.getEmptyStyle=function(){return{height:"calc(100vh - ".concat(255,"px)"),borderTopRightRadius:x.sm,borderTopLeftRadius:x.sm,backgroundColor:"white",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){var t=Number(e.target.value);a.setState({rowsPerPage:t})},a.state={page:0,order:void 0,orderBy:void 0,fixed:void 0,orderProp:!1,rowsPerPage:void 0},a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.columns,n=e.defaultOrderBy;n&&t&&(t.find((function(e){return e.id===n})).order&&this.setState({orderProp:!0}))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.classes,r=e.columns,a=e.data,c=e.defaultFixed,o=e.defaultOrder,j=e.defaultOrderBy,b=e.defaultRowsPerPage,x=e.disableLoadingOnEmptyTable,p=e.disablePagination,v=e.label,C=e.noBorder,N=e.size,y=this.state,S=y.fixed,k=y.order,R=y.orderBy,P=y.orderProp,_=y.page,T=y.rowsPerPage,A=R||j,E=k||o,B=T||b,I="undefined"!==typeof S?S:!!c,M={selectRoot:n.selectRoot,root:!C&&n.paginationRoot,input:n.white},z=r.find((function(e){return e.id===A})),H=function(e,t,n){var r=n?e.filter((function(e){return e.fixed})):Object(h.a)([]),a=(n?e.filter((function(e){return!e.fixed})):e).map((function(e,t){return[e,t]})),c=(a=a.sort((function(e,n){var r=t(e[0],n[0]);return 0!==r?r:e[1]-n[1]}))).map((function(e){return e[0]}));return r.concat(c)}(a,function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e};return"desc"===e?function(e,a){return O(e,a,t,n,r)}:function(e,a){return-O(e,a,t,n,r)}}(E,A,P,null===z||void 0===z?void 0:z.formatTypeSort),I);p||(H=H.slice(_*B,_*B+B));var F=0===N&&!x;return Object(g.jsxs)(g.Fragment,{children:[!F&&Object(g.jsxs)(i.a,{"aria-labelledby":v,className:C?"":n.root,children:[Object(g.jsx)(u.b,{columns:r,onSort:this.onSort,order:k,orderBy:A}),Object(g.jsx)(d.a,{children:t(H)})]}),F&&Object(g.jsx)(m.a,{className:n.loader,style:this.getEmptyStyle(),children:Object(g.jsx)(s.Loader,{size:"sm"})}),!p&&Object(g.jsx)(l.a,{backIconButtonProps:f,classes:M,component:"div",count:N,nextIconButtonProps:w,onPageChange:this.handleChangePage,onRowsPerPageChange:this.handleChangeRowsPerPage,page:_,rowsPerPage:B,rowsPerPageOptions:[5,10,25,50,100]})]})}}]),n}(b.Component);v.defaultProps={defaultOrder:"asc",disablePagination:!1,defaultRowsPerPage:5};t.a=Object(j.a)(p)(v)},1638:function(e,t,n){"use strict";var r=n(16),a=n(8),c=n(91),o=n(39),s=n(0),i=n(1569),d=n(1626),l=n(638),j=n(630),b=n(1578),u=n(573),h=n(166),O=n(31),m=n(46),x=n(66),g=n(22),p=n(197),f=n(1);t.a=function(e){var t=e.className,n=void 0===t?"":t,w=e.name,v=void 0===w?"recipientAddress":w,C=e.text,N=void 0===C?"Recipient*":C,y=e.placeholder,S=void 0===y?"Recipient*":y,k=e.fieldMutator,R=e.testId,P=e.inputAdornment,_=e.validators,T=void 0===_?[]:_,A=e.defaultValue,E=e.disabled,B=Object(s.useState)(""),I=Object(o.a)(B,2),M=I[0],z=I[1],H=Object(s.useState)({}),F=Object(o.a)(H,2),D=F[0],G=F[1],V=D[M],W=""===V,L=Object(s.useCallback)((function(e){var t=Object(p.b)(e);return u.d.apply(void 0,Object(c.a)(T))(t.address)}),[T]),q=Object(s.useMemo)((function(){return Object(u.d)(u.p,u.k,L)}),[L]),U=Object(s.useCallback)((function(e){var t=Object(h.c)(e);if(z(e),Object(m.e)(t)||Object(m.d)(t))G((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(r.a)({},e,""))})),Object(O.c)(t).then((function(t){var n=Object(x.a)(t);G((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(r.a)({},e,n))}))})).catch((function(t){G((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(r.a)({},e,void 0))})),Object(g.c)(g.b._101,t.message)}));else if(!Object(u.k)(t)){var n=Object(p.b)(t),c=Object(x.a)(n.address)||n.address;k(c)}}),[z,G,k]);Object(s.useEffect)((function(){V&&U(V)}),[V,U]);var X=W?{endAdornment:Object(f.jsx)(l.a,{position:"end",children:Object(f.jsx)(j.a,{size:"16px"})})}:P;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(i.a,{className:n,component:b.a,defaultValue:A,disabled:E,inputAdornment:X,name:v,placeholder:S,text:N,spellCheck:!1,validate:q,inputProps:{"data-testid":R}}),Object(f.jsx)(d.a,{name:v,children:U})]})}},1760:function(e,t,n){"use strict";var r=n(4),a=n(13),c=n(0),o=(n(18),n(14)),s=n(17),i=n(837),d=n(628),l=n(557),j=n(596),b=n(52),u=c.forwardRef((function(e,t){var n=e.classes,s=e.className,i=e.component,d=void 0===i?"div":i,l=e.disableGutters,j=void 0!==l&&l,b=e.variant,u=void 0===b?"regular":b,h=Object(a.a)(e,["classes","className","component","disableGutters","variant"]);return c.createElement(d,Object(r.a)({className:Object(o.default)(n.root,n[u],s,!j&&n.gutters),ref:t},h))})),h=Object(s.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:Object(b.a)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(u),O=n(216),m=n(588),x=n(589),g=n(92),p=n(436),f=c.createElement(x.a,null),w=c.createElement(m.a,null),v=c.createElement(m.a,null),C=c.createElement(x.a,null),N=c.forwardRef((function(e,t){var n=e.backIconButtonProps,o=e.count,s=e.nextIconButtonProps,i=e.onChangePage,d=void 0===i?function(){}:i,l=e.onPageChange,j=void 0===l?function(){}:l,b=e.page,u=e.rowsPerPage,h=Object(a.a)(e,["backIconButtonProps","count","nextIconButtonProps","onChangePage","onPageChange","page","rowsPerPage"]),O=Object(g.a)();return c.createElement("div",Object(r.a)({ref:t},h),c.createElement(p.a,Object(r.a)({onClick:function(e){d(e,b-1),j(e,b-1)},disabled:0===b,color:"inherit"},n),"rtl"===O.direction?f:w),c.createElement(p.a,Object(r.a)({onClick:function(e){d(e,b+1),j(e,b+1)},disabled:-1!==o&&b>=Math.ceil(o/u)-1,color:"inherit"},s),"rtl"===O.direction?v:C))})),y=n(259),S=function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"-").concat(n," of ").concat(-1!==r?r:"more than ".concat(n))},k=[10,25,50,100],R=c.forwardRef((function(e,t){var n,s=e.ActionsComponent,b=void 0===s?N:s,u=e.backIconButtonProps,m=e.backIconButtonText,x=void 0===m?"Previous page":m,g=e.classes,p=e.className,f=e.colSpan,w=e.component,v=void 0===w?j.a:w,C=e.count,R=e.labelDisplayedRows,P=void 0===R?S:R,_=e.labelRowsPerPage,T=void 0===_?"Rows per page:":_,A=e.nextIconButtonProps,E=e.nextIconButtonText,B=void 0===E?"Next page":E,I=e.onChangePage,M=e.onPageChange,z=e.onChangeRowsPerPage,H=e.onRowsPerPageChange,F=e.page,D=e.rowsPerPage,G=e.rowsPerPageOptions,V=void 0===G?k:G,W=e.SelectProps,L=void 0===W?{}:W,q=Object(a.a)(e,["ActionsComponent","backIconButtonProps","backIconButtonText","classes","className","colSpan","component","count","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","nextIconButtonText","onChangePage","onPageChange","onChangeRowsPerPage","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps"]),U=z||H;v!==j.a&&"td"!==v||(n=f||1e3);var X=Object(y.a)(),Q=Object(y.a)(),Z=L.native?"option":d.a;return c.createElement(v,Object(r.a)({className:Object(o.default)(g.root,p),colSpan:n,ref:t},q),c.createElement(h,{className:g.toolbar},c.createElement("div",{className:g.spacer}),V.length>1&&c.createElement(O.a,{color:"inherit",variant:"body2",className:g.caption,id:Q},T),V.length>1&&c.createElement(l.a,Object(r.a)({classes:{select:g.select,icon:g.selectIcon},input:c.createElement(i.a,{className:Object(o.default)(g.input,g.selectRoot)}),value:D,onChange:U,id:X,labelId:Q},L),V.map((function(e){return c.createElement(Z,{className:g.menuItem,key:e.value?e.value:e,value:e.value?e.value:e},e.label?e.label:e)}))),c.createElement(O.a,{color:"inherit",variant:"body2",className:g.caption},P({from:0===C?0:F*D+1,to:-1!==C?Math.min(C,(F+1)*D):(F+1)*D,count:-1===C?-1:C,page:F})),c.createElement(b,{className:g.actions,backIconButtonProps:Object(r.a)({title:x,"aria-label":x},u),count:C,nextIconButtonProps:Object(r.a)({title:B,"aria-label":B},A),onChangePage:I,onPageChange:M,page:F,rowsPerPage:D})))}));t.a=Object(s.a)((function(e){return{root:{color:e.palette.text.primary,fontSize:e.typography.pxToRem(14),overflow:"auto","&:last-child":{padding:0}},toolbar:{minHeight:52,paddingRight:2},spacer:{flex:"1 1 100%"},caption:{flexShrink:0},selectRoot:{marginRight:32,marginLeft:8},select:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"},selectIcon:{},input:{color:"inherit",fontSize:"inherit",flexShrink:0},menuItem:{},actions:{flexShrink:0,marginLeft:20}}}),{name:"MuiTablePagination"})(R)},2978:function(e,t,n){"use strict";n.r(t),n.d(t,"RENAME_OWNER_BTN_TEST_ID",(function(){return Je})),n.d(t,"REMOVE_OWNER_BTN_TEST_ID",(function(){return Ke})),n.d(t,"ADD_OWNER_BTN_TEST_ID",(function(){return $e})),n.d(t,"REPLACE_OWNER_BTN_TEST_ID",(function(){return et})),n.d(t,"OWNERS_ROW_TEST_ID",(function(){return tt}));var r=n(16),a=n(8),c=n(39),o=n(0),s=n(26),i=n(596),d=n(632),l=n(597),j=n(130),b=n.n(j),u=n(2),h=n.n(u),O=n(15),m=n(32),x=n(349),g=n(82),p=n(134),f=n(65),w=n(575),v=n(66),C=n(354),N=n(21),y=n(427),S=n(1626),k=n(10),R=n(550),P=Object(R.a)({formContainer:{padding:"".concat(k.md," ").concat(k.lg),minHeight:"340px"},buttonRow:{height:"84px",justifyContent:"center",gap:"16px"}}),_=n(1595),T=n(1638),A=n(1572),E=n(1587),B=n(1578),I=n(573),M=n(153),z=n(113),H=n(178),F=n(78),D=n(111),G=n(350),V=n(81),W=n(256),L=n(574),q=n(1),U="add-owner-name-input",X="add-owner-address-testid",Q="add-owner-next-btn",Z={setOwnerAddress:function(e,t,n){n.changeValue(t,"ownerAddress",(function(){return e[0]}))},setOwnerName:function(e,t,n){n.changeValue(t,"ownerName",(function(){return e[0]}))}},Y=Object(y.a)(P),J=function(e){var t,n=e.onClose,r=e.onSubmit,a=e.initialValues,c=Y(),o=Object(m.e)(G.f),s=null!==(t=Object(m.e)(V.a))&&void 0!==t?t:{},i=s.address,d=void 0===i?"":i,l=s.owners,j=void 0===l?[]:l,b=Object(I.q)(j),u=Object(I.c)(d);return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(L.a,{onClose:n,title:"Add new owner",subTitle:"1 of 3"}),Object(q.jsx)(H.a,{}),Object(q.jsx)(E.a,{formMutators:Z,initialValues:{ownerName:null===a||void 0===a?void 0:a.ownerName,ownerAddress:null===a||void 0===a?void 0:a.ownerAddress},onSubmit:function(e){r(e)},children:function(){var e=arguments.length<=3?void 0:arguments[3],t=function(t,n){var r=t;r.startsWith("ethereum:")&&(r=r.replace("ethereum:","")),e.setOwnerAddress(r),n()};return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(M.a,{className:c.formContainer,children:[Object(q.jsx)(D.a,{margin:"md",children:Object(q.jsx)(F.a,{children:"Add a new owner to the active Safe"})}),Object(q.jsx)(D.a,{margin:"md",children:Object(q.jsxs)(z.a,{xs:8,children:[Object(q.jsx)(A.a,{component:B.a,name:"ownerName",placeholder:"Owner name*",testId:U,text:"Owner name*",type:"text",validate:Object(I.d)(I.p,I.r)}),Object(q.jsx)(S.a,{name:"ownerAddress",children:function(){var t=Object(O.a)(h.a.mark((function t(n){var r,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(W.a)(n)&&(a=null===(r=o[n])||void 0===r?void 0:r.name)&&e.setOwnerName(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})]})}),Object(q.jsxs)(D.a,{margin:"md",children:[Object(q.jsx)(z.a,{xs:8,children:Object(q.jsx)(T.a,{fieldMutator:e.setOwnerAddress,name:"ownerAddress",placeholder:"Owner address*",testId:X,text:"Owner address*",validators:[b,u]})}),Object(q.jsx)(z.a,{center:"xs",className:c,middle:"xs",xs:1,children:Object(q.jsx)(_.a,{handleScan:t})})]})]}),Object(q.jsx)(H.a,{}),Object(q.jsx)(D.a,{align:"center",className:c.buttonRow,children:Object(q.jsx)(x.b.Footer.Buttons,{cancelButtonProps:{onClick:n,text:"Cancel"},confirmButtonProps:{type:"submit",text:"Next",testId:Q}})})]})}})]})},K=n(19),$=n(164),ee=Object(R.a)({root:{height:"372px"},info:{backgroundColor:k.background,padding:k.sm,justifyContent:"center",textAlign:"center",flexDirection:"column"},buttonRow:{height:"84px",justifyContent:"center",gap:"16px"},details:{padding:k.lg,borderRight:"solid 2px ".concat(k.border),height:"100%"},owners:{overflow:"auto",height:"100%"},ownersTitle:{padding:k.lg},owner:{padding:k.sm,alignItems:"center"},name:{textOverflow:"ellipsis",overflow:"hidden"},selectedOwner:{padding:k.sm,alignItems:"center",backgroundColor:"#f7f5f5"},open:{paddingLeft:k.sm,width:"auto","&:hover":{cursor:"pointer"}}}),te=n(31),ne=n(22),re=n(1596),ae=Object(y.a)(ee),ce=function(e){var t=e.onClickBack,n=e.onClose,r=e.onSubmit,a=e.values,s=ae(),i=Object(o.useState)(""),d=Object(c.a)(i,2),l=d[0],j=d[1],b=Object(m.e)(V.j),u=b.address,x=b.name,p=b.owners,f=b.currentVersion,w=Object(m.e)(g.g);return Object(o.useEffect)((function(){var e=!0,t=function(){var t=Object(O.a)(h.a.mark((function t(){var n,r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(te.h)(w,u,f);case 3:return n=t.sent,t.next=6,n.getAddOwnerTx({ownerAddress:a.ownerAddress,threshold:+a.threshold},{safeTxGas:0});case 6:r=t.sent,c=r.data.data,e&&j(c),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),Object(ne.c)(ne.b._811,t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}),[w,u,f,a.ownerAddress,a.threshold]),Object(q.jsxs)(re.a,{txData:l,onSubmit:r,onBack:t,children:[Object(q.jsx)(L.a,{onClose:n,title:"Add new owner",subTitle:"3 of 3"}),Object(q.jsx)(H.a,{}),Object(q.jsxs)(M.a,{margin:"md",children:[Object(q.jsxs)(D.a,{className:s.root,children:[Object(q.jsx)(z.a,{layout:"column",xs:4,children:Object(q.jsxs)(M.a,{className:s.details,children:[Object(q.jsx)(M.a,{margin:"lg",children:Object(q.jsx)(F.a,{color:"primary",noMargin:!0,size:"lg",children:"Details"})}),Object(q.jsxs)(M.a,{margin:"lg",children:[Object(q.jsx)(F.a,{color:"disabled",noMargin:!0,size:"sm",children:"Safe name"}),Object(q.jsx)(F.a,{className:s.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder",children:x})]}),Object(q.jsxs)(M.a,{margin:"lg",children:[Object(q.jsx)(F.a,{color:"disabled",noMargin:!0,size:"sm",children:"Any transaction requires the confirmation of:"}),Object(q.jsx)(F.a,{className:s.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder",children:"".concat(a.threshold," out of ").concat(((null===p||void 0===p?void 0:p.length)||0)+1," owner(s)")})]})]})}),Object(q.jsxs)(z.a,{className:s.owners,layout:"column",xs:8,children:[Object(q.jsx)(D.a,{className:s.ownersTitle,children:Object(q.jsx)(F.a,{color:"primary",noMargin:!0,size:"lg",children:"".concat(((null===p||void 0===p?void 0:p.length)||0)+1," Safe owner(s)")})}),Object(q.jsx)(H.a,{}),null===p||void 0===p?void 0:p.map((function(e){return Object(q.jsxs)(o.Fragment,{children:[Object(q.jsx)(D.a,{className:s.owner,children:Object(q.jsx)(z.a,{align:"center",xs:12,children:Object(q.jsx)($.a,{hash:e.address,name:e.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(K.i)(e.address)})})}),Object(q.jsx)(H.a,{})]},e.address)})),Object(q.jsx)(D.a,{align:"center",className:s.info,children:Object(q.jsx)(F.a,{color:"primary",noMargin:!0,size:"md",weight:"bolder",children:"ADDING NEW OWNER \u2193"})}),Object(q.jsx)(H.a,{}),Object(q.jsx)(D.a,{className:s.selectedOwner,"data-testid":"add-owner-review",children:Object(q.jsx)(z.a,{align:"center",xs:12,children:Object(q.jsx)($.a,{hash:a.ownerAddress,name:a.ownerName,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(K.i)(a.ownerAddress)})})}),Object(q.jsx)(H.a,{})]})]}),Object(q.jsx)(H.a,{})]})]})},oe=n(91),se=n(628),ie=Object(R.a)({headingText:{fontSize:k.md},formContainer:{padding:"".concat(k.md," ").concat(k.lg),minHeight:"340px"},ownersText:{marginLeft:k.sm},buttonRow:{height:"84px",justifyContent:"center",gap:"16px"},inputRow:{position:"relative"},errorText:{position:"absolute",bottom:"-25px"}}),de=n(1603),le=Object(y.a)(ie),je=function(e){var t,n=e.onClickBack,r=e.onClose,c=e.onSubmit,o=e.initialValues,s=le(),i=null!==(t=Object(m.e)(V.a))&&void 0!==t?t:{},d=i.owners,l=i.threshold,j=void 0===l?1:l,b=d?d.length+1:0;return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(L.a,{onClose:r,title:"Add new owner",subTitle:"2 of 3"}),Object(q.jsx)(H.a,{}),Object(q.jsx)(E.a,{initialValues:{threshold:o.threshold||j.toString()},onSubmit:function(e){c(e)},children:function(){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(M.a,{className:s.formContainer,children:[Object(q.jsx)(D.a,{children:Object(q.jsx)(F.a,{className:s.headingText,weight:"bolder",children:"Set the required owner confirmations:"})}),Object(q.jsx)(D.a,{children:Object(q.jsx)(F.a,{weight:"bolder",children:"Any transaction requires the confirmation of:"})}),Object(q.jsxs)(D.a,{align:"center",className:s.inputRow,margin:"xl",children:[Object(q.jsx)(z.a,{xs:2,children:Object(q.jsx)(A.a,{"data-testid":"threshold-select-input",name:"threshold",render:function(e){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(de.a,Object(a.a)(Object(a.a)({},e),{},{disableError:!0,children:Object(oe.a)(Array(Number(b))).map((function(e,t){return Object(q.jsx)(se.a,{value:"".concat(t+1),children:t+1},t)}))})),e.meta.error&&e.meta.touched&&Object(q.jsx)(F.a,{className:s.errorText,color:"error",noMargin:!0,children:e.meta.error})]})},validate:Object(I.d)(I.p,I.o,Object(I.i)(1),Object(I.f)(b))})}),Object(q.jsx)(z.a,{xs:10,children:Object(q.jsxs)(F.a,{className:s.ownersText,color:"primary",noMargin:!0,size:"lg",children:["out of ",b," owner(s)"]})})]})]}),Object(q.jsx)(H.a,{}),Object(q.jsx)(D.a,{align:"center",className:s.buttonRow,children:Object(q.jsx)(x.b.Footer.Buttons,{cancelButtonProps:{onClick:n,text:"Back"},confirmButtonProps:{type:"submit",text:"Review",testId:"add-owner-threshold-next-btn"}})})]})}})]})},be=n(56),ue=function(){var e=Object(O.a)(h.a.mark((function e(t,n,r,a,c,o,s){var i,d,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.h)(o,n,r);case 2:return i=e.sent,e.next=5,i.getAddOwnerTx({ownerAddress:t.ownerAddress,threshold:+t.threshold},{safeTxGas:0});case 5:return d=e.sent,l=d.data.data,e.next=9,c(Object(w.c)({safeAddress:n,to:n,valueInWei:"0",txData:l,txNonce:a.safeNonce,safeTxGas:a.safeTxGas,ethParameters:a,notifiedTransaction:f.a.SETTINGS_CHANGE_TX,delayExecution:s}));case 9:e.sent&&c(Object(p.b)(Object(C.b)({address:t.ownerAddress,name:t.ownerName,chainId:Object(K.b)()})));case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,o,s){return e.apply(this,arguments)}}(),he=function(e){var t=e.isOpen,n=e.onClose,r=Object(o.useState)("selectOwner"),s=Object(c.a)(r,2),i=s[0],d=s[1],l=Object(o.useState)({ownerName:"",ownerAddress:"",threshold:""}),j=Object(c.a)(l,2),b=j[0],u=j[1],f=Object(m.d)(),w=Object(N.l)(),y=Object(m.e)(V.c),S=Object(m.e)(g.g),k=Object(m.e)(be.a);Object(o.useEffect)((function(){return function(){d("selectOwner"),u({ownerName:"",ownerAddress:"",threshold:""})}}),[t]);var R=function(){"reviewAddOwner"===i?d("selectThreshold"):"selectThreshold"===i&&d("selectOwner")},P=function(){var e=Object(O.a)(h.a.mark((function e(t,r){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),e.prev=1,e.next=4,ue(b,w,y,t,f,S,r);case 4:f(Object(p.b)(Object(C.b)({name:b.ownerName,address:b.ownerAddress,chainId:k}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Object(ne.c)(ne.b._808,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(q.jsx)(x.c,{description:"Add owner to Safe",handleClose:n,open:t,paperClassName:"bigger-modal-window",title:"Add owner to Safe",children:Object(q.jsxs)(q.Fragment,{children:["selectOwner"===i&&Object(q.jsx)(J,{initialValues:b,onClose:n,onSubmit:function(e){u((function(t){return Object(a.a)(Object(a.a)({},t),{},{ownerName:e.ownerName,ownerAddress:Object(v.a)(e.ownerAddress)})})),d("selectThreshold")}}),"selectThreshold"===i&&Object(q.jsx)(je,{onClickBack:R,initialValues:{threshold:b.threshold},onClose:n,onSubmit:function(e){u((function(t){return Object(a.a)(Object(a.a)({},t),{},{threshold:e.threshold})})),d("reviewAddOwner")}}),"reviewAddOwner"===i&&Object(q.jsx)(ce,{onClickBack:R,onClose:n,onSubmit:P,values:b})]})})},Oe=n(88),me=n(114),xe=Object(y.a)(Object(R.a)({heading:{padding:k.lg,justifyContent:"space-between",boxSizing:"border-box",height:"74px"},manage:{fontSize:k.lg},container:{padding:"".concat(k.md," ").concat(k.lg),minHeight:"200px"},close:{height:"35px",width:"35px"}})),ge="rename-owner-input",pe="save-owner-changes-btn",fe=function(e){var t=e.isOpen,n=e.onClose,r=e.owner,a=xe(),c=Object(m.d)(),o=Object(m.e)(be.a);return Object(q.jsxs)(x.c,{description:"Edit owner from Safe",handleClose:n,open:t,paperClassName:"smaller-modal-window",title:"Edit owner from Safe",children:[Object(q.jsx)(L.a,{onClose:n,title:"Edit owner name"}),Object(q.jsx)(H.a,{}),Object(q.jsx)(E.a,{onSubmit:function(e){var t=e.ownerName;t!==r.name&&(c(Object(p.b)(Object(C.b)({address:r.address,name:t,chainId:o}))),c(Object(me.b)(Oe.a.OWNER_NAME_CHANGE_EXECUTED_MSG))),n()},subscription:{pristine:!0},children:function(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];var o=t[2].pristine;return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(M.a,{className:a.container,children:[Object(q.jsx)(D.a,{margin:"md",children:Object(q.jsx)(A.a,{component:B.a,initialValue:r.name,name:"ownerName",placeholder:"Owner name*",testId:ge,text:"Owner name*",type:"text",validate:Object(I.d)(I.p,I.r)})}),Object(q.jsx)(D.a,{children:Object(q.jsx)(M.a,{justify:"center",children:Object(q.jsx)($.a,{hash:r.address,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(K.i)(r.address)})})})]}),Object(q.jsx)(x.b.Footer,{children:Object(q.jsx)(x.b.Footer.Buttons,{cancelButtonProps:{onClick:n},confirmButtonProps:{disabled:o,testId:pe,text:"Save"}})})]})}})]})},we=Object(y.a)(Object(R.a)({formContainer:{padding:"".concat(k.md," ").concat(k.lg),minHeight:"340px"}})),ve=function(e){var t=e.onClose,n=e.onSubmit,r=e.owner,a=we();return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(L.a,{onClose:t,subTitle:"1 of 3",title:"Remove owner"}),Object(q.jsx)(H.a,{}),Object(q.jsxs)(M.a,{className:a.formContainer,children:[Object(q.jsx)(D.a,{margin:"md",children:Object(q.jsx)(F.a,{size:"lg",children:"Review the owner you want to remove from the active Safe:"})}),Object(q.jsx)(D.a,{children:Object(q.jsx)(z.a,{align:"center",xs:12,children:Object(q.jsx)($.a,{hash:r.address,name:r.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(K.i)(r.address)})})})]}),Object(q.jsx)(x.b.Footer,{children:Object(q.jsx)(x.b.Footer.Buttons,{cancelButtonProps:{onClick:t},confirmButtonProps:{onClick:n,testId:"remove-owner-next-btn",text:"Next"}})})]})},Ce=Object(y.a)(Object(R.a)({root:{height:"372px"},info:{backgroundColor:k.background,padding:k.sm,justifyContent:"center",textAlign:"center",flexDirection:"column"},details:{padding:k.lg,borderRight:"solid 1px ".concat(k.border),height:"100%"},owners:{overflow:"auto",height:"100%"},ownersTitle:{padding:k.lg},owner:{padding:k.sm,alignItems:"center"},name:{textOverflow:"ellipsis",overflow:"hidden"},selectedOwner:{padding:k.sm,alignItems:"center",backgroundColor:"#ffe6ea"}})),Ne=n(46),ye=n(555),Se=function(e){var t=e.onClickBack,n=e.onClose,r=e.onSubmit,a=e.owner,s=e.threshold,i=void 0===s?1:s,d=Ce(),l=Object(o.useState)(""),j=Object(c.a)(l,2),b=j[0],u=j[1],x=Object(m.e)(V.j),p=x.address,f=x.name,w=x.owners,v=x.currentVersion,C=Object(m.e)(g.g),N=w?w.length-1:0;return Object(o.useEffect)((function(){var e=!0;if(i){var t=function(){var t=Object(O.a)(h.a.mark((function t(){var n,r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(te.h)(C,p,v);case 3:return n=t.sent,t.next=6,n.getRemoveOwnerTx({ownerAddress:a.address,threshold:+i},{safeTxGas:0});case 6:r=t.sent,c=r.data.data,e&&u(c),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),Object(ne.c)(ye.a._812,t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}console.error("Threshold value was not define, tx can't be executed")}),[p,v,C,a.address,i]),Object(q.jsxs)(re.a,{txData:b,onSubmit:r,onBack:t,children:[Object(q.jsx)(L.a,{onClose:n,title:"Remove owner",subTitle:"3 of 3"}),Object(q.jsx)(H.a,{}),Object(q.jsxs)(M.a,{margin:"md",children:[Object(q.jsxs)(D.a,{className:d.root,children:[Object(q.jsx)(z.a,{layout:"column",xs:4,children:Object(q.jsxs)(M.a,{className:d.details,children:[Object(q.jsx)(M.a,{margin:"lg",children:Object(q.jsx)(F.a,{color:"primary",noMargin:!0,size:"lg",children:"Details"})}),Object(q.jsxs)(M.a,{margin:"lg",children:[Object(q.jsx)(F.a,{color:"disabled",noMargin:!0,size:"sm",children:"Safe name"}),Object(q.jsx)(F.a,{className:d.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder",children:f})]}),Object(q.jsxs)(M.a,{margin:"lg",children:[Object(q.jsx)(F.a,{color:"disabled",noMargin:!0,size:"sm",children:"Any transaction requires the confirmation of:"}),Object(q.jsx)(F.a,{className:d.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder",children:"".concat(i," out of ").concat(N," owner(s)")})]})]})}),Object(q.jsxs)(z.a,{className:d.owners,layout:"column",xs:8,children:[Object(q.jsx)(D.a,{className:d.ownersTitle,children:Object(q.jsx)(F.a,{color:"primary",noMargin:!0,size:"lg",children:"".concat(N," Safe owner(s)")})}),Object(q.jsx)(H.a,{}),null===w||void 0===w?void 0:w.map((function(e){return!Object(Ne.f)(e.address,a.address)&&Object(q.jsxs)(o.Fragment,{children:[Object(q.jsx)(D.a,{className:d.owner,children:Object(q.jsx)(z.a,{align:"center",xs:12,children:Object(q.jsx)($.a,{hash:e.address,name:e.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(K.i)(e.address)})})}),Object(q.jsx)(H.a,{})]},e.address)})),Object(q.jsx)(D.a,{align:"center",className:d.info,children:Object(q.jsx)(F.a,{color:"primary",noMargin:!0,size:"md",weight:"bolder",children:"REMOVING OWNER \u2193"})}),Object(q.jsx)(H.a,{}),Object(q.jsx)(D.a,{className:d.selectedOwner,"data-testid":"remove-owner-review",children:Object(q.jsx)(z.a,{align:"center",xs:12,children:Object(q.jsx)($.a,{hash:a.address,name:a.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(K.i)(a.address)})})}),Object(q.jsx)(H.a,{})]})]}),Object(q.jsx)(H.a,{})]})]})},ke=Object(y.a)(Object(R.a)({headingText:{fontSize:k.md},formContainer:{padding:"".concat(k.md," ").concat(k.lg),minHeight:"340px"},ownersText:{marginLeft:k.sm},inputRow:{position:"relative"},errorText:{position:"absolute",bottom:"-25px"}})),Re=function(e){var t,n,r=e.onClickBack,c=e.onClose,o=e.onSubmit,s=e.initialValues,i=ke(),d=null!==(t=Object(m.e)(V.a))&&void 0!==t?t:{},l=d.owners,j=d.threshold,b=void 0===j?1:j,u=null!==(n=null===l||void 0===l?void 0:l.length)&&void 0!==n?n:0,h=b>1&&b===u?b-1:b;return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(L.a,{onClose:c,subTitle:"2 of 3",title:"Remove owner"}),Object(q.jsx)(H.a,{}),Object(q.jsx)(E.a,{initialValues:{threshold:s.threshold||h.toString()},onSubmit:function(e){o(e)},children:function(){var e=u>1?u-1:1;return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(M.a,{className:i.formContainer,children:[Object(q.jsx)(D.a,{children:Object(q.jsx)(F.a,{className:i.headingText,weight:"bolder",children:"Set the required owner confirmations:"})}),Object(q.jsx)(D.a,{children:Object(q.jsx)(F.a,{weight:"bolder",children:"Any transaction requires the confirmation of:"})}),Object(q.jsxs)(D.a,{align:"center",className:i.inputRow,margin:"xl",children:[Object(q.jsx)(z.a,{xs:2,children:Object(q.jsx)(A.a,{"data-testid":"threshold-select-input",name:"threshold",render:function(t){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(de.a,Object(a.a)(Object(a.a)({},t),{},{disableError:!0,children:Object(oe.a)(Array(Number(e))).map((function(e,t){return Object(q.jsx)(se.a,{value:"".concat(t+1),children:t+1},t)}))})),t.meta.error&&t.meta.touched&&Object(q.jsx)(F.a,{className:i.errorText,color:"error",noMargin:!0,children:t.meta.error})]})},validate:Object(I.d)(I.p,I.o,Object(I.i)(1),Object(I.f)(e))})}),Object(q.jsx)(z.a,{xs:10,children:Object(q.jsxs)(F.a,{className:i.ownersText,color:"primary",noMargin:!0,size:"lg",children:["out of ",u?u-1:0," owner(s)"]})})]})]}),Object(q.jsx)(x.b.Footer,{children:Object(q.jsx)(x.b.Footer.Buttons,{cancelButtonProps:{onClick:r,text:"Back"},confirmButtonProps:{testId:"remove-owner-threshold-next-btn",text:"Review"}})})]})}})]})},Pe=function(){var e=Object(O.a)(h.a.mark((function e(t,n,r,a,c,o,s,i){var d,l,j;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.h)(s,n,r);case 2:return d=e.sent,e.next=5,d.getRemoveOwnerTx({ownerAddress:a,threshold:+t.threshold},{safeTxGas:0});case 5:l=e.sent,j=l.data.data,c(Object(w.c)({safeAddress:n,to:n,valueInWei:"0",txData:j,txNonce:o.safeNonce,safeTxGas:o.safeTxGas,ethParameters:o,notifiedTransaction:f.a.SETTINGS_CHANGE_TX,delayExecution:i}));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,o,s,i){return e.apply(this,arguments)}}(),_e=function(e){var t=e.isOpen,n=e.onClose,r=e.owner,s=Object(o.useState)("checkOwner"),i=Object(c.a)(s,2),d=i[0],l=i[1],j=Object(o.useState)(Object(a.a)(Object(a.a)({},r),{},{threshold:""})),b=Object(c.a)(j,2),u=b[0],p=b[1],f=Object(m.d)(),w=Object(N.l)(),v=Object(m.e)(V.c),C=Object(m.e)(g.g);Object(o.useEffect)((function(){return function(){l("checkOwner")}}),[t]);var y=function(){"reviewRemoveOwner"===d?l("selectThreshold"):"selectThreshold"===d&&l("checkOwner")},S=function(){var e=Object(O.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),e.prev=1,e.next=4,Pe(u,w,v,r.address,f,t,C,a);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),Object(ne.c)(ne.b._809,e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(q.jsx)(x.c,{description:"Remove owner from Safe",handleClose:n,open:t,paperClassName:"bigger-modal-window",title:"Remove owner from Safe",children:Object(q.jsxs)(q.Fragment,{children:["checkOwner"===d&&Object(q.jsx)(ve,{onClose:n,onSubmit:function(){l("selectThreshold")},owner:r}),"selectThreshold"===d&&Object(q.jsx)(Re,{onClickBack:y,initialValues:{threshold:u.threshold},onClose:n,onSubmit:function(e){var t=Object(a.a)(Object(a.a)({},u),{},{threshold:e.threshold});p(t),l("reviewRemoveOwner")}}),"reviewRemoveOwner"===d&&Object(q.jsx)(Se,{onClickBack:y,onClose:n,onSubmit:S,owner:r,threshold:Number(u.threshold)})]})})},Te=Object(y.a)(Object(R.a)({formContainer:{padding:"".concat(k.md," ").concat(k.lg),minHeight:"340px"},owner:{alignItems:"center"},address:{marginRight:k.sm}})),Ae="replace-owner-name-input",Ee="replace-owner-address-testid",Be="replace-owner-next-btn",Ie={setOwnerAddress:function(e,t,n){n.changeValue(t,"ownerAddress",(function(){return e[0]}))},setOwnerName:function(e,t,n){n.changeValue(t,"ownerName",(function(){return e[0]}))}},Me=function(e){var t,n=e.onClose,r=e.onSubmit,a=e.owner,c=e.initialValues,o=Te(),s=Object(m.e)(G.f),i=null!==(t=Object(m.e)(V.a))&&void 0!==t?t:{},d=i.address,l=void 0===d?"":d,j=i.owners,b=Object(I.q)(j),u=Object(I.c)(l);return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(L.a,{onClose:n,title:"Replace owner",subTitle:"1 of 2"}),Object(q.jsx)(H.a,{}),Object(q.jsx)(E.a,{formMutators:Ie,onSubmit:function(e){r(e)},initialValues:{ownerName:null===c||void 0===c?void 0:c.name,ownerAddress:null===c||void 0===c?void 0:c.address},children:function(){var e=arguments.length<=3?void 0:arguments[3],t=function(t,n){var r=t;r.startsWith("ethereum:")&&(r=r.replace("ethereum:","")),e.setOwnerAddress(r),n()};return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(M.a,{className:o.formContainer,children:[Object(q.jsx)(D.a,{children:Object(q.jsx)(F.a,{children:"Review the owner you want to replace from the active Safe. Then specify the new owner you want to replace it with:"})}),Object(q.jsx)(D.a,{children:Object(q.jsx)(F.a,{children:"Current owner"})}),Object(q.jsx)(D.a,{className:o.owner,children:Object(q.jsx)(z.a,{align:"center",xs:12,children:Object(q.jsx)($.a,{hash:a.address,name:a.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(K.i)(a.address)})})}),Object(q.jsx)(D.a,{children:Object(q.jsx)(F.a,{children:"New owner"})}),Object(q.jsx)(D.a,{margin:"md",children:Object(q.jsxs)(z.a,{xs:8,children:[Object(q.jsx)(A.a,{component:B.a,name:"ownerName",placeholder:"Owner name*",testId:Ae,text:"Owner name*",type:"text",validate:Object(I.d)(I.p,I.r)}),Object(q.jsx)(S.a,{name:"ownerAddress",children:function(){var t=Object(O.a)(h.a.mark((function t(n){var r,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(W.a)(n)&&(a=null===(r=s[n])||void 0===r?void 0:r.name)&&e.setOwnerName(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})]})}),Object(q.jsxs)(D.a,{margin:"md",children:[Object(q.jsx)(z.a,{xs:8,children:Object(q.jsx)(T.a,{fieldMutator:e.setOwnerAddress,name:"ownerAddress",placeholder:"Owner address*",testId:Ee,text:"Owner address*",validators:[b,u]})}),Object(q.jsx)(z.a,{center:"xs",className:o,middle:"xs",xs:1,children:Object(q.jsx)(_.a,{handleScan:t})})]})]}),Object(q.jsx)(x.b.Footer,{children:Object(q.jsx)(x.b.Footer.Buttons,{cancelButtonProps:{onClick:n},confirmButtonProps:{testId:Be,text:"Next"}})})]})}})]})},ze=Object(y.a)(Object(R.a)({root:{height:"372px"},info:{backgroundColor:k.background,padding:k.sm,justifyContent:"center",textAlign:"center",flexDirection:"column"},details:{padding:k.lg,borderRight:"solid 1px ".concat(k.border),height:"100%"},owners:{overflow:"auto",height:"100%"},ownersTitle:{padding:k.lg},owner:{padding:k.sm,alignItems:"center"},name:{textOverflow:"ellipsis",overflow:"hidden"},selectedOwnerRemoved:{padding:k.sm,alignItems:"center",backgroundColor:"#ffe6ea"},selectedOwnerAdded:{padding:k.sm,alignItems:"center",backgroundColor:"#f7f5f5"}})),He=function(e){var t=e.onClickBack,n=e.onClose,r=e.onSubmit,a=e.owner,s=e.newOwner,i=ze(),d=Object(o.useState)(""),l=Object(c.a)(d,2),j=l[0],b=l[1],u=Object(m.e)(V.j),x=u.address,p=u.name,f=u.owners,w=u.threshold,v=void 0===w?1:w,C=u.currentVersion,N=Object(m.e)(g.g);return Object(o.useEffect)((function(){var e=!0,t=function(){var t=Object(O.a)(h.a.mark((function t(){var n,r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(te.h)(N,x,C);case 3:return n=t.sent,t.next=6,n.getSwapOwnerTx({oldOwnerAddress:a.address,newOwnerAddress:s.address},{safeTxGas:0});case 6:r=t.sent,c=r.data.data,e&&b(c),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),Object(ne.c)(ne.b._813,t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}),[x,C,N,a.address,s.address]),Object(q.jsxs)(re.a,{txData:j,onSubmit:r,onBack:t,children:[Object(q.jsx)(L.a,{onClose:n,title:"Replace owner",subTitle:"2 of 2"}),Object(q.jsx)(H.a,{}),Object(q.jsxs)(M.a,{margin:"md",children:[Object(q.jsxs)(D.a,{className:i.root,children:[Object(q.jsx)(z.a,{layout:"column",xs:4,children:Object(q.jsxs)(M.a,{className:i.details,children:[Object(q.jsx)(M.a,{margin:"lg",children:Object(q.jsx)(F.a,{color:"primary",noMargin:!0,size:"lg",children:"Details"})}),Object(q.jsxs)(M.a,{margin:"lg",children:[Object(q.jsx)(F.a,{color:"disabled",noMargin:!0,size:"sm",children:"Safe name"}),Object(q.jsx)(F.a,{className:i.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder",children:p})]}),Object(q.jsxs)(M.a,{margin:"lg",children:[Object(q.jsx)(F.a,{color:"disabled",noMargin:!0,size:"sm",children:"Any transaction requires the confirmation of:"}),Object(q.jsx)(F.a,{className:i.name,color:"primary",noMargin:!0,size:"lg",weight:"bolder",children:"".concat(v," out of ").concat((null===f||void 0===f?void 0:f.length)||0," owner(s)")})]})]})}),Object(q.jsxs)(z.a,{className:i.owners,layout:"column",xs:8,children:[Object(q.jsx)(D.a,{className:i.ownersTitle,children:Object(q.jsx)(F.a,{color:"primary",noMargin:!0,size:"lg",children:"".concat((null===f||void 0===f?void 0:f.length)||0," Safe owner(s)")})}),Object(q.jsx)(H.a,{}),null===f||void 0===f?void 0:f.map((function(e){return!Object(Ne.f)(e.address,a.address)&&Object(q.jsxs)(o.Fragment,{children:[Object(q.jsx)(D.a,{className:i.owner,children:Object(q.jsx)(z.a,{align:"center",xs:12,children:Object(q.jsx)($.a,{hash:e.address,name:e.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(K.i)(e.address)})})}),Object(q.jsx)(H.a,{})]},e.address)})),Object(q.jsx)(D.a,{align:"center",className:i.info,children:Object(q.jsx)(F.a,{color:"primary",noMargin:!0,size:"md",weight:"bolder",children:"REMOVING OWNER \u2193"})}),Object(q.jsx)(H.a,{}),Object(q.jsx)(D.a,{className:i.selectedOwnerRemoved,"data-testid":"remove-owner-review",children:Object(q.jsx)(z.a,{align:"center",xs:12,children:Object(q.jsx)($.a,{hash:a.address,name:a.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(K.i)(a.address)})})}),Object(q.jsx)(D.a,{align:"center",className:i.info,children:Object(q.jsx)(F.a,{color:"primary",noMargin:!0,size:"md",weight:"bolder",children:"ADDING NEW OWNER \u2193"})}),Object(q.jsx)(H.a,{}),Object(q.jsx)(D.a,{className:i.selectedOwnerAdded,"data-testid":"add-owner-review",children:Object(q.jsx)(z.a,{align:"center",xs:12,children:Object(q.jsx)($.a,{hash:s.address,name:s.name,showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(K.i)(s.address)})})}),Object(q.jsx)(H.a,{})]})]}),Object(q.jsx)(H.a,{})]})]})},Fe=function(){var e=Object(O.a)(h.a.mark((function e(t,n,r,c,o,s,i,d){var l,j,b;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.h)(i,n,r);case 2:return l=e.sent,e.next=5,l.getSwapOwnerTx({oldOwnerAddress:c,newOwnerAddress:t.address},{safeTxGas:0});case 5:return j=e.sent,b=j.data.data,e.next=9,o(Object(w.c)({safeAddress:n,to:n,valueInWei:"0",txData:b,txNonce:s.safeNonce,safeTxGas:s.safeTxGas,ethParameters:s,notifiedTransaction:f.a.SETTINGS_CHANGE_TX,delayExecution:d}));case 9:e.sent&&o(Object(p.b)(Object(C.b)(Object(a.a)(Object(a.a)({},t),{},{chainId:Object(K.b)()}))));case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,a,c,o,s,i){return e.apply(this,arguments)}}(),De=function(e){var t=e.isOpen,n=e.onClose,r=e.owner,s=Object(o.useState)("checkOwner"),i=Object(c.a)(s,2),d=i[0],l=i[1],j=Object(o.useState)({address:"",name:""}),b=Object(c.a)(j,2),u=b[0],f=b[1],w=Object(m.d)(),y=Object(N.l)(),S=Object(m.e)(V.c),k=Object(m.e)(g.g);Object(o.useEffect)((function(){return function(){l("checkOwner"),f({address:"",name:""})}}),[t]);var R=function(){var e=Object(O.a)(h.a.mark((function e(t,c){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),e.prev=1,e.next=4,Fe(u,y,S,r.address,w,t,k,c);case 4:w(Object(p.b)(Object(C.b)(Object(a.a)(Object(a.a)({},u),{},{chainId:Object(K.b)()})))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Object(ne.c)(ne.b._810,e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(q.jsx)(x.c,{description:"Replace owner from Safe",handleClose:n,open:t,paperClassName:"bigger-modal-window",title:"Replace owner from Safe",children:Object(q.jsxs)(q.Fragment,{children:["checkOwner"===d&&Object(q.jsx)(Me,{onClose:n,onSubmit:function(e){var t=e.ownerAddress,n=e.ownerName;if(Object(W.a)(t)){var r=Object(v.a)(t);f({address:r,name:n}),l("reviewReplaceOwner")}},initialValues:u,owner:r}),"reviewReplaceOwner"===d&&Object(q.jsx)(He,{onClickBack:function(){return l("checkOwner")},onClose:n,onSubmit:R,owner:r,newOwner:u})]})})},Ge=n(74),Ve="name",We="address",Le=Object(y.a)(Object(R.a)({formContainer:{minHeight:"420px"},title:{padding:k.lg,paddingBottom:0},annotation:{paddingLeft:k.lg},hide:{"&:hover":{backgroundColor:"#f7f5f5"},"&:hover $actions":{visibility:"initial"}},actions:{justifyContent:"flex-end",visibility:"hidden",minWidth:"100px",gap:"16px"},noBorderBottom:{"& > td":{borderBottom:"none"}},editOwnerIcon:{cursor:"pointer"},replaceOwnerIcon:{marginLeft:k.lg,cursor:"pointer"},controlsRow:{backgroundColor:"white",padding:k.lg,borderRadius:k.sm},removeOwnerIcon:{marginLeft:k.lg,cursor:"pointer"}})),qe=n(359),Ue=n(1631),Xe=n(1613),Qe=n(193),Ze=n(1611),Ye=n(155),Je="rename-owner-btn",Ke="remove-owner-btn",$e="add-owner-btn",et="replace-owner-btn",tt="owners-row";t.default=function(e){var t=e.granted,n=e.owners,j=Object(Ye.i)().trackEvent,u=Le(),h=Object(o.useState)(),O=Object(c.a)(h,2),m=O[0],x=O[1],g=Object(o.useState)({showAddOwner:!1,showRemoveOwner:!1,showReplaceOwner:!1,showEditOwner:!1}),p=Object(c.a)(g,2),f=p[0],w=p[1],v=function(e,t){return function(){w((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(r.a)({},"show".concat(e),!t["show".concat(e)]))})),t&&x(t)}},C=function(e){return function(){w((function(t){return Object(a.a)(Object(a.a)({},t),{},Object(r.a)({},"show".concat(e),!Boolean(t["show".concat(e)])))})),x(void 0)}};Object(o.useEffect)((function(){j(Ye.c.OWNERS)}),[j]);var N=function(){var e={id:Ve,order:!1,formatTypeSort:function(e){return e.toLowerCase()},disablePadding:!1,label:"Name",width:150,custom:!1,align:"left"},t={id:We,order:!1,disablePadding:!1,label:"Address",custom:!1,align:"left"},n={id:"actions",order:!1,disablePadding:!1,label:"",custom:!0};return Object(Ge.a)([e,t,n])}(),y=N.filter((function(e){return!e.custom})),S=function(e){return e.map((function(e){var t;return t={},Object(r.a)(t,Ve,e.name),Object(r.a)(t,We,e.address),t}))}(n);return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(M.a,{className:u.formContainer,children:[Object(q.jsx)(Ze.a,{className:u.title,tag:"h2",children:"Manage Safe Owners"}),Object(q.jsx)(F.a,{className:u.annotation,children:"Add, remove and replace owners or rename existing owners. Owner names are only stored locally and never shared with Gnosis or any third parties."}),Object(q.jsx)(d.a,{children:Object(q.jsx)(Ue.a,{columns:N,data:S,defaultFixed:!0,defaultOrderBy:We,disablePagination:!0,label:"Owners",noBorder:!0,size:S.length,children:function(e){return e.map((function(n,r){return Object(q.jsxs)(l.a,{className:b()(u.hide,r>=3&&r===e.size-1&&u.noBorderBottom),"data-testid":tt,children:[y.map((function(e){return Object(q.jsx)(i.a,{align:e.align,component:"td",style:Object(Xe.a)(e.width),children:e.id===We?Object(q.jsx)(M.a,{justify:"left",children:Object(q.jsx)($.a,{hash:n[e.id],showCopyBtn:!0,showAvatar:!0,explorerUrl:Object(K.i)(n[e.id])})}):n[e.id]},e.id)})),Object(q.jsx)(i.a,{component:"td",children:Object(q.jsxs)(D.a,{align:"end",className:u.actions,children:[Object(q.jsx)(qe.a,{onClick:v("EditOwner",n),dataTestId:Je,children:Object(q.jsx)(s.Icon,{size:"sm",type:"edit",color:"icon",tooltip:"Edit owner"})}),t&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(qe.a,{onClick:v("ReplaceOwner",n),dataTestId:et,children:Object(q.jsx)(s.Icon,{size:"sm",type:"replaceOwner",color:"icon",tooltip:"Replace owner"})}),S.length>1&&Object(q.jsx)(qe.a,{onClick:v("RemoveOwner",n),dataTestId:Ke,children:Object(q.jsx)(s.Icon,{size:"sm",type:"delete",color:"error",tooltip:"Remove owner"})})]})]})})]},r)}))}})})]}),t&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(H.a,{}),Object(q.jsx)(D.a,{align:"end",className:u.controlsRow,grow:!0,children:Object(q.jsx)(z.a,{end:"xs",children:Object(q.jsx)(Qe.a,{color:"primary",onClick:v("AddOwner"),size:"small",testId:$e,variant:"contained",children:"Add new owner"})})})]}),Object(q.jsx)(he,{isOpen:f.showAddOwner,onClose:C("AddOwner")}),m&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(_e,{isOpen:f.showRemoveOwner,onClose:C("RemoveOwner"),owner:m}),Object(q.jsx)(De,{isOpen:f.showReplaceOwner,onClose:C("ReplaceOwner"),owner:m}),Object(q.jsx)(fe,{isOpen:f.showEditOwner,onClose:C("EditOwner"),owner:m})]})]})}}}]);
//# sourceMappingURL=50.03abde5b.chunk.js.map