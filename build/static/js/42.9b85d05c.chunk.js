(this["webpackJsonpsafe-react"]=this["webpackJsonpsafe-react"]||[]).push([[42],{1572:function(e,n,t){"use strict";var a=t(8),r=t(1569),c=t(1);n.a=function(e){return Object(c.jsx)(r.a,Object(a.a)({},e))}},1578:function(e,n,t){"use strict";var a=t(8),r=t(60),c=t(629),i=t(550),o=t(427),s=t(10),l=t(1),d=["name","onChange","value"],u=["input","inputAdornment","meta","multiline","rows","testId","text"],b={overflow:"hidden",width:"100%"},j=Object(o.a)((function(){return Object(i.a)({root:{paddingTop:s.lg,paddingBottom:"12px",lineHeight:0}})}));n.a=function(e){var n=e.input,t=n.name,i=n.onChange,o=n.value,s=Object(r.a)(n,d),f=e.inputAdornment,h=e.meta,p=e.multiline,O=e.rows,m=e.testId,x=e.text,g=Object(r.a)(e,u),v=j(),w=o?x:void 0,y=(h.touched||!h.pristine)&&!h.valid,k=!!h.error||!h.modifiedSinceLastSubmit&&!!h.submitError,S=h.error||h.submitError,C=!h.active&&(h.pristine||!h.touched),_="undefined"===typeof h.error||!h.touched,N=C&&_,E=w?v.root:"",T=h.valid?"isValid":k&&y?"isInvalid":"",I=Object(a.a)(Object(a.a)({},s),{},{autoComplete:"off","data-testid":m}),z=Object(a.a)(Object(a.a)({},f),{},{className:"".concat(E," ").concat(T),disableUnderline:N});return Object(l.jsx)(c.a,Object(a.a)({error:k&&y,helperText:k&&y?S:w||" ",inputProps:I,InputProps:z,multiline:p,name:t,onChange:i,rows:O,style:b,value:o},g))}},1595:function(e,n,t){"use strict";t.d(n,"a",(function(){return _}));var a=t(39),r=t(427),c=t(0),i=t.p+"static/media/qrcode.fec1b6d8.svg",o=t(436),s=t(352),l=t.n(s),d=t(1624),u=t.n(d),b=t(10),j=t(550),f=Object(j.a)({heading:{padding:b.lg,justifyContent:"space-between",maxHeight:"75px",boxSizing:"border-box"},loaderContainer:{width:"100%",height:"100%"},close:{height:"25px",width:"25px",color:b.secondaryText},detailsContainer:{backgroundColor:b.background,maxHeight:"450px"},buttonRow:{height:"84px",justifyContent:"center"},button:{"&:last-child":{marginLeft:b.sm}}}),h=t(349),p=t(153),O=t(193),m=t(113),x=t(178),g=t(78),v=t(111),w=t(1),y=Object(r.a)(f),k=function(e){var n=e.isOpen,t=e.onClose,r=e.onScan,i=y(),s=Object(c.useState)(!1),d=Object(a.a)(s,2),b=d[0],j=d[1],f=Object(c.useState)(null),k=Object(a.a)(f,2),S=k[0],C=k[1],_=Object(c.useState)(!1),N=Object(a.a)(_,2),E=N[0],T=N[1],I=c.createRef(),z=c.useCallback((function(){I.current.openImageDialog()}),[I]);Object(c.useEffect)((function(){b||!E||S||(j(!0),z())}),[E,z,b,j,S]);var F=function(e,n){if(e)return console.error("QR code error",e),void("NotAllowedError"===e.name||"PermissionDismissedError"===e.name?(T(!0),j(!1)):C("The QR could not be read"));n?r(n):E&&C("The QR could not be read")};return Object(w.jsxs)(h.c,{description:"Receive Tokens Form",handleClose:t,open:n,title:"Receive Tokens",children:[Object(w.jsxs)(v.a,{align:"center",className:i.heading,grow:!0,children:[Object(w.jsx)(g.a,{noMargin:!0,size:"xl",children:"Scan QR"}),Object(w.jsx)(o.a,{disableRipple:!0,onClick:t,children:Object(w.jsx)(l.a,{className:i.close})})]}),Object(w.jsx)(x.a,{}),Object(w.jsxs)(m.a,{className:i.detailsContainer,layout:"column",middle:"xs",children:[S&&Object(w.jsx)(p.a,{padding:"md",margin:"md",children:S}),Object(w.jsx)(u.a,{legacyMode:E,onError:function(e){return F(e,null)},onScan:function(e){return F(null,e)},ref:I,style:{width:"400px",height:"400px"},facingMode:"user"})]}),Object(w.jsx)(x.a,{}),Object(w.jsxs)(v.a,{align:"center",className:i.buttonRow,children:[Object(w.jsx)(O.a,{className:i.button,color:"secondary",minWidth:154,onClick:t,children:"Close"}),Object(w.jsx)(O.a,{className:i.button,color:"primary",minWidth:154,onClick:function(){T(!0),C(null),j(!1)},variant:"contained",children:"Upload an image"})]})]})},S=t(129),C=Object(r.a)({qrCodeBtn:{cursor:"pointer"}}),_=function(e){var n=e.handleScan,t=e.testId,r=C(),o=Object(c.useState)(!1),s=Object(a.a)(o,2),l=s[0],d=s[1],u=function(){d(!1)};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(S.a,{alt:"Scan QR",className:r.qrCodeBtn,height:20,onClick:function(){d(!0)},role:"button",src:i,testId:t||"qr-icon"}),l&&Object(w.jsx)(k,{isOpen:l,onClose:u,onScan:function(e){n(e,u)}})]})}},1603:function(e,n,t){"use strict";var a=t(8),r=t(60),c=t(551),i=t(552),o=t(1479),s=t(557),l=t(1),d=["name","onChange","value"],u=["classes","disableError","formControlProps","input","label","meta","renderValue"],b={minWidth:"100%"};n.a=function(e){var n=e.classes,t=e.disableError,j=e.formControlProps,f=e.input,h=f.name,p=f.onChange,O=f.value,m=Object(r.a)(f,d),x=e.label,g=e.meta,v=e.renderValue,w=Object(r.a)(e,u),y=(g.submitError&&!g.dirtySinceLastSubmit||g.error)&&g.touched&&!t,k=Object(a.a)(Object(a.a)({},m),{},{name:h});return Object(l.jsxs)(c.a,Object(a.a)(Object(a.a)({},j),{},{error:y,style:b,children:[Object(l.jsx)(o.a,{htmlFor:h,children:x}),Object(l.jsx)(s.a,Object(a.a)({classes:n,inputProps:k,onChange:p,renderValue:v,value:O},w)),y&&Object(l.jsx)(i.a,{children:g.error||g.submitError})]}))}},1611:function(e,n,t){"use strict";var a=t(8),r=t(60),c=t(123),i=t.n(c),o=t(0),s=t(1616),l=t.n(s),d=t(71),u=["align","children","className","color","margin","tag","testId","truncate"],b=i.a.bind(l.a);n.a=function(e){var n=e.align,t=e.children,c=e.className,i=void 0===c?"":c,s=e.color,l=e.margin,j=e.tag,f=e.testId,h=e.truncate,p=Object(r.a)(e,u),O=b(i,"heading",n,j,l?Object(d.a)(l,"margin"):void 0,s,{truncate:h});return o.createElement(j,Object(a.a)(Object(a.a)({},p),{},{className:O,"data-testid":f||""}),t)}},1616:function(e,n,t){e.exports={heading:"Heading_heading__3Wz9P",h1:"Heading_h1__MXfCA",h2:"Heading_h2__3X6Ts",h3:"Heading_h3__1k2fD",h4:"Heading_h4__1YCmR",center:"Heading_center__28MHY",right:"Heading_right__1fQM1",truncate:"Heading_truncate__2Lq93",marginSm:"Heading_marginSm__13YwX",marginMd:"Heading_marginMd__2AnZN",marginLg:"Heading_marginLg__2ZfEq",marginXl:"Heading_marginXl__3RHt7",soft:"Heading_soft__2Zu43",medium:"Heading_medium__2X8Z-",dark:"Heading_dark__Ds2QB",fancy:"Heading_fancy__1Wx6l",warning:"Heading_warning__2lrZC",primary:"Heading_primary__2hOk2",secondary:"Heading_secondary__37lKs",disabled:"Heading_disabled__30DjG",error:"Heading_error__t5ujr",white:"Heading_white__2gkIK"}},1627:function(e,n,t){"use strict";var a,r=t(25),c=t(8),i=t(23),o=t(19),s=t(10),l=t(1);n.a=function(e){var n=e.networkInfo,t=e.onClick,a=e.flexGrow,r=n||Object(o.e)();return Object(l.jsx)(d,Object(c.a)(Object(c.a)({onClick:t,flexGrow:a},r.theme),{},{children:r.chainName}))};var d=i.default.span(a||(a=Object(r.a)(["\n  position: relative;\n  bottom: 2px;\n  line-height: normal;\n  display: inline-block;\n  min-width: 70px;\n  font-size: ",";\n  padding: "," ",";\n  background-color: ",";\n  color: ",";\n  cursor: ",";\n  text-align: center;\n  border-radius: 3px;\n  text-transform: capitalize;\n  flex-grow: ",";\n"])),s.extraSmallFontSize,s.xs,s.sm,(function(e){var n=e.backgroundColor;return null!==n&&void 0!==n?n:s.border}),(function(e){var n=e.textColor;return null!==n&&void 0!==n?n:s.fontColor}),(function(e){return e.onClick?"pointer":"inherit"}),(function(e){return e.flexGrow?1:"initial"}))},1637:function(e,n,t){"use strict";t.d(n,"b",(function(){return l})),t.d(n,"a",(function(){return d}));var a=t(8),r=t(39),c=t(0),i=t(21),o=t(1),s=Object(c.createContext)({});function l(){var e=Object(c.useContext)(s);if(!(Object.keys(e).length>0))throw new Error("useStepper must be used within a StepperProvider!");return e}function d(e){var n=e.onFinish,t=e.store,l=e.disableNextButton,d=e.stepsComponents,u=e.children,b=e.testId,j=Object(c.useState)(0),f=Object(r.a)(j,2),h=f[0],p=f[1],O=c.Children.toArray(d),m=O[h],x=m.props.nextButtonType,g=m.props.nextButtonLabel,v="submit"===x,w=0===h,y=h>O.length-2,k=g,S=Object(a.a)({currentStep:h,setCurrentStep:p,steps:O,CurrentStepComponent:m,isFirstStep:w,isLastStep:y,onClickPreviousStep:function(){w?i.s.goBack():p((function(e){return e-1}))},onClickNextStep:function(){v||(y?null===n||void 0===n||n():p((function(e){return e+1})))},disableNextButton:l,nextButtonType:x,customNextButtonLabel:k,testId:b},t);return Object(o.jsx)(s.Provider,{value:S,children:u})}},1638:function(e,n,t){"use strict";var a=t(16),r=t(8),c=t(91),i=t(39),o=t(0),s=t(1569),l=t(1626),d=t(638),u=t(630),b=t(1578),j=t(573),f=t(166),h=t(31),p=t(46),O=t(66),m=t(22),x=t(197),g=t(1);n.a=function(e){var n=e.className,t=void 0===n?"":n,v=e.name,w=void 0===v?"recipientAddress":v,y=e.text,k=void 0===y?"Recipient*":y,S=e.placeholder,C=void 0===S?"Recipient*":S,_=e.fieldMutator,N=e.testId,E=e.inputAdornment,T=e.validators,I=void 0===T?[]:T,z=e.defaultValue,F=e.disabled,A=Object(o.useState)(""),L=Object(i.a)(A,2),P=L[0],B=L[1],H=Object(o.useState)({}),R=Object(i.a)(H,2),M=R[0],G=R[1],D=M[P],q=""===D,W=Object(o.useCallback)((function(e){var n=Object(x.b)(e);return j.d.apply(void 0,Object(c.a)(I))(n.address)}),[I]),Y=Object(o.useMemo)((function(){return Object(j.d)(j.p,j.k,W)}),[W]),V=Object(o.useCallback)((function(e){var n=Object(f.c)(e);if(B(e),Object(p.e)(n)||Object(p.d)(n))G((function(n){return Object(r.a)(Object(r.a)({},n),{},Object(a.a)({},e,""))})),Object(h.c)(n).then((function(n){var t=Object(O.a)(n);G((function(n){return Object(r.a)(Object(r.a)({},n),{},Object(a.a)({},e,t))}))})).catch((function(n){G((function(n){return Object(r.a)(Object(r.a)({},n),{},Object(a.a)({},e,void 0))})),Object(m.c)(m.b._101,n.message)}));else if(!Object(j.k)(n)){var t=Object(x.b)(n),c=Object(O.a)(t.address)||t.address;_(c)}}),[B,G,_]);Object(o.useEffect)((function(){D&&V(D)}),[D,V]);var X=q?{endAdornment:Object(g.jsx)(d.a,{position:"end",children:Object(g.jsx)(u.a,{size:"16px"})})}:E;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(s.a,{className:t,component:b.a,defaultValue:z,disabled:F,inputAdornment:X,name:w,placeholder:C,text:k,spellCheck:!1,validate:Y,inputProps:{"data-testid":N}}),Object(g.jsx)(l.a,{name:w,children:V})]})}},1699:function(e,n,t){"use strict";var a=t(123),r=t.n(a),c=t(1700),i=t.n(c),o=t(1),s=r.a.bind(i.a);n.a=function(e){var n=e.align,t=e.children,a=e.overflow;return Object(o.jsx)("main",{className:s(i.a.page,n,{overflow:a}),children:t})}},1700:function(e,n,t){e.exports={page:"Page_page__G6hb0",center:"Page_center__1dwJ9",overflow:"Page_overflow__30EmX"}},1880:function(e,n,t){"use strict";t.d(n,"a",(function(){return S}));var a=t(8),r=t(39),c=t(0),i=t.n(c),o=t(1569),s=t(799),l=t(639),d=t(2969),u=t(797),b=t(433),j=t(427),f=t(178),h=t(193),p=t(113),O=t(111),m=t(10),x=t(1637),g=t(1);function v(){var e=Object(x.b)(),n=e.currentStep,t=e.setCurrentStep,a=e.steps,r=e.onClickPreviousStep,c=e.onClickNextStep,i=e.disableNextButton,o=e.nextButtonType,j=e.testId;return Object(g.jsx)(s.a,{"data-testid":j,activeStep:n,orientation:"vertical",children:a.map((function(e,s){var j=0===s,m=n>s,x=y({isStepLabelClickable:m});var v=a[s],w=j?"Cancel":"Back",k=v.props.nextButtonLabel||"Next";return Object(g.jsxs)(l.a,{children:[Object(g.jsx)(u.a,{onClick:function(){m&&t(s)},className:x.stepLabel,children:e.props.label}),Object(g.jsx)(d.a,{children:Object(g.jsxs)(b.a,{className:x.root,elevation:1,children:[v,Object(g.jsx)(f.a,{}),Object(g.jsx)(O.a,{align:"center",grow:!0,className:x.controlStyle,children:Object(g.jsxs)(p.a,{center:"xs",xs:12,children:[Object(g.jsx)(h.a,{onClick:r,size:"small",className:x.backButton,type:"button",children:w}),Object(g.jsx)(h.a,{onClick:c,color:"primary",type:o||"button",disabled:i||e.props.disableNextButton,size:"small",className:x.nextButton,variant:"contained",children:k})]})})]})})]},e.props.label)}))})}function w(e){return Object(g.jsx)(x.a,Object(a.a)(Object(a.a)({stepsComponents:e.children},e),{},{children:Object(g.jsx)(v,{})}))}var y=Object(j.a)((function(e){return{root:{margin:"10px 0 10px 10px",maxWidth:"770px",boxShadow:"0 0 10px 0 rgba(33,48,77,0.10)"},controlStyle:{backgroundColor:"white",padding:m.lg,borderRadius:m.sm},backButton:{marginRight:m.sm,fontWeight:m.boldFont,color:e.palette.secondary.main},nextButton:{fontWeight:m.boldFont},stepLabel:{cursor:function(e){return e.isStepLabelClickable?"pointer":"inherit"}}}}));function k(e){return e.children}n.b=function(e){var n=e.children,t=e.onSubmit,s=e.testId,l=e.initialValues,d=Object(c.useState)(),u=Object(r.a)(d,2),b=u[0],j=u[1],f=Object(c.useState)(),h=Object(r.a)(f,2),p=h[0],O=h[1],m=Object(c.useMemo)((function(){return i.a.Children.toArray(n).filter(Boolean).map((function(e,n,r){function i(){var a=Object(x.b)().setCurrentStep;return Object(c.useEffect)((function(){var c=n===r.length-1;j((function(){return e.props.validate})),O(c?function(){return function(e){return t(e)}}:function(){return function(){a((function(e){return e+1}))}})}),[a]),e.props.children}return Object(g.jsx)(k,Object(a.a)(Object(a.a)({nextButtonType:"submit"},e.props),{},{children:Object(g.jsx)(i,{})}),e.props.label)}))}),[n,t]);return Object(g.jsx)(o.b,{onSubmit:function(e){return null===p||void 0===p?void 0:p(e)},initialValues:l,validate:function(e){return null===b||void 0===b?void 0:b(e)},children:function(e){var n=e.handleSubmit,t=e.submitting;return Object(g.jsx)("form",{"data-testid":s,onSubmit:n,children:Object(g.jsx)(w,{disableNextButton:t,nextButtonType:"submit",children:m})})}})};function S(e){return e.children}},1881:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var a=t(39),r=t(0),c=t(19),i="\naardvark\nalbatross\nalligator\nalpaca\nant\nanteater\nantelope\nape\narmadillo\nbaboon\nbadger\nbarracuda\nbat\nbear\nbeaver\nbee\nbinturong\nbird\nbison\nbluebird\nboar\nbobcat\nbuffalo\nbutterfly\ncamel\ncapybara\ncaracal\ncaribou\ncassowary\ncat\ncaterpillar\ncattle\nchameleon\nchamois\ncheetah\nchicken\nchimpanzee\nchinchilla\nchough\ncoati\ncobra\ncockroach\ncod\ncormorant\ncougar\ncoyote\ncrab\ncrane\ncricket\ncrocodile\ncrow\ncuckoo\ncurlew\ndeer\ndegu\ndhole\ndingo\ndinosaur\ndog\ndogfish\ndolphin\ndonkey\ndotterel\ndove\ndragonfly\nduck\ndugong\ndunlin\neagle\nechidna\neel\neland\nelephant\nelk\nemu\nfalcon\nferret\nfinch\nfish\nflamingo\nfly\nfox\nfrog\ngaur\ngazelle\ngecko\ngerbil\ngiraffe\ngnat\ngnu\ngoat\ngoldfinch\ngoosander\ngoose\ngorilla\ngoshawk\ngrasshopper\ngrouse\nguanaco\nguinea-pig\ngull\nhamster\nhare\nhawk\nhedgehog\nheron\nherring\nhippopotamus\nhoatzin\nhoopoe\nhornet\nhorse\nhuman\nhummingbird\nhyena\nibex\nibis\niguana\nimpala\njackal\njaguar\njay\njellyfish\njerboa\nkangaroo\nkingfisher\nkinkajou\nkoala\nkomodo-dragon\nkookaburra\nkouprey\nkudu\nlapwing\nlark\nlemur\nleopard\nlion\nlizard\nllama\nlobster\nlocust\nloris\nlouse\nlynx\nlyrebird\nmacaque\nmacaw\nmagpie\nmallard\nmammoth\nmanatee\nmandrill\nmarmoset\nmarmot\nmeerkat\nmink\nmole\nmongoose\nmonkey\nmoose\nmosquito\nmouse\nmyna\nnarwhal\nnewt\nnightingale\noctopus\nokapi\nopossum\norangutan\noryx\nostrich\notter\nowl\noyster\npanther\nparrot\npanda\npartridge\npeafowl\npelican\npenguin\npheasant\npig\npigeon\npika\npolar-bear\npony\nporcupine\nporpoise\npug\nquail\nquelea\nquetzal\nrabbit\nraccoon\nram\nrat\nraven\nred-deer\nred-panda\nreindeer\nrhea\nrhinoceros\nrook\nsalamander\nsalmon\nsand-dollar\nsandpiper\nsardine\nsea-lion\nseahorse\nseal\nshark\nsheep\nshrew\nsiamang\nskunk\nsloth\nsnail\nsnake\nspider\nsquid\nsquirrel\nstarling\nstegosaurus\nswan\ntamarin\ntapir\ntarsier\ntermite\ntiger\ntoad\ntoucan\nturaco\nturkey\nturtle\numbrellabird\nvinegaroon\nviper\nvulture\nwallaby\nwalrus\nwasp\nwaxwing\nweasel\nwhale\nwobbegong\nwolf\nwolverine\nwombat\nwoodpecker\nworm\nwren\nyak\nzebra\n".trim().split(/\s+/),o="\nadmirable\nenergetic\nlucky\naffable\nenjoyable\nmagnificent\naffectionate\nenthusiastic\nmarvelous\nagreeable\neuphoric\nmeritorious\namazing\nexcellent\nmerry\namiable\nexceptional\nmild-mannered\namused\nexcited\nnice\namusing\nextraordinary\nnoble\nanimated\nexultant\noutstanding\nappreciative\nfabulous\noverjoyed\nastonishing\nfaithful\npassionate\nauthentic\nfantastic\npeaceful\nbelievable\nfervent\nplacid\nbenevolent\nfortunate\npleasant\nblissful\nfriendly\npleasing\nbouncy\nfun\npleasurable\nbrilliant\ngenuine\npositive\nbubbly\nglad\npraiseworthy\nbuoyant\nglorious\nprominent\ncalm\ngood\nproud\ncharming\ngood-humored\nrelaxed\ncheerful\ngood-natured\nreliable\ncheery\ngracious\nrespectable\nclever\ngrateful\nsharp\ncomfortable\ngreat\nsincere\ncomical\nhappy\nspirited\ncommendable\nheartfelt\nsplendid\nconfident\nhonest\nsuperb\ncongenial\nhonorable\nsuperior\ncontent\nhopeful\nterrific\ncordial\nhumorous\nthankful\ncourteous\nincredible\ntremendous\ndedicated\ninspirational\ntriumphant\ndelighted\njolly\ntrustworthy\ndelightful\njovial\ntrusty\ndependable\njoyful\ntruthful\ndevoted\njoyous\nuplifting\ndocile\njubilant\nvictorious\ndynamic\nkeen\nvigorous\neager\nkind\nvirtuous\nearnest\nlaudable\nvivacious\neasygoing\nlaughing\nwhimsical\nebullient\nlikable\nwitty\necstatic\nlively\nwonderful\nelated\nlovely\nworthy\nemphatic\nloving\nzealous\nenchanting\nloyal\nzestful\n".trim().split(/\s+/),s=function(e){return e[Math.floor(e.length*Math.random())]},l=function(e){var n=Object(r.useState)(""),t=Object(a.a)(n,2),c=t[0],l=t[1];return Object(r.useEffect)((function(){l(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s(i),n=s(o);return"".concat(n,"-").concat(e)}(e))}),[e]),c},d=function(){var e=Object(c.f)().toLowerCase();return l("".concat(e,"-safe"))}},2979:function(e,n,t){"use strict";t.r(n);var a,r,c,i=t(25),o=t(16),s=t(8),l=t(2),d=t.n(l),u=t(15),b=t(39),j=t(0),f=t.n(j),h=t(436),p=t(1925),O=t.n(p),m=t(23),x=t(32),g=t(2333),v=t.n(g),w=t(57),y=t(26),k=t(1699),S=t(153),C=t(111),_=t(1611),N=t(21),E=t(10),T=t(1880),I=t(1569),z=t(113),F=t(78),A=t(1572),L=t(1578),P=t(82),B="customSafeName",H="suggestedSafeName",R="owners",M="safeOwnerENSList",G="newSafeThreshold",D="maxOwnerNumber",q="safeCreationSalt",W="gasLimit",Y="gasPrice",V="safeCreationTxHash",X="NEW_SAFE_PENDING_CREATION_STORAGE_KEY",Q=t(1637),J=t(1627),U=t(31),Z=t(1);var K,$,ee,ne,te,ae,re,ce,ie,oe=function(){var e=Object(j.useState)({}),n=Object(b.a)(e,2),t=n[0],a=n[1],r=Object(x.e)(P.d),c=Object(Q.b)().setCurrentStep;Object(j.useEffect)((function(){r||c(0)}),[r,c]);var i=Object(I.d)(),l=i.getState().values;return Object(j.useEffect)((function(){var e=function(){var e=Object(u.a)(d.a.mark((function e(){var n,t,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.getState().values,t=n.owners,e.next=4,Promise.all(t.map(function(){var e=Object(u.a)(d.a.mark((function e(t){var a,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.addressFieldName,r=n[a],e.next=4,Object(U.m)(r);case 4:return c=e.sent,e.abrupt("return",{address:r,name:c});case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 4:r=e.sent,c=r.reduce((function(e,n){var t=n.address,a=n.name;return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},t,a))}),{}),a(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[i]),Object(j.useEffect)((function(){t&&i.change(M,t)}),[t,i]),Object(Z.jsxs)(se,{"data-testid":"create-safe-name-step",children:[Object(Z.jsx)(S.a,{margin:"md",children:Object(Z.jsxs)(F.a,{color:"primary",noMargin:!0,size:"lg",children:["You are about to create a new Gnosis Safe wallet with one or more owners. First, let's give your new wallet a name. This name is only stored locally and will never be shared with Gnosis or any third parties. The new Safe will ONLY be available on ",Object(Z.jsx)(J.a,{})]})}),Object(Z.jsx)("label",{htmlFor:B,children:"Name of the new Safe"}),Object(Z.jsx)(le,{margin:"lg",children:Object(Z.jsx)(z.a,{xs:11,children:Object(Z.jsx)(A.a,{component:L.a,name:B,placeholder:l.suggestedSafeName,text:"Safe name",type:"text",testId:"create-safe-name-field"})})}),Object(Z.jsx)(S.a,{margin:"lg",children:Object(Z.jsxs)(F.a,{color:"primary",noMargin:!0,size:"lg",children:["By continuing you consent with the"," ",Object(Z.jsx)(de,{href:"https://gnosis-safe.io/terms",rel:"noopener noreferrer",target:"_blank",children:"terms of use"})," ","and"," ",Object(Z.jsx)(de,{href:"https://gnosis-safe.io/privacy",rel:"noopener noreferrer",target:"_blank",children:"privacy policy"}),". Most importantly, you confirm that your funds are held securely in the Gnosis Safe, a smart contract on the Ethereum blockchain. These funds cannot be accessed by Gnosis at any point."]})})]})},se=Object(m.default)(S.a)(a||(a=Object(i.a)(["\n  padding: ",";\n"])),E.lg),le=Object(m.default)(S.a)(r||(r=Object(i.a)(["\n  display: flex;\n  max-width: 480px;\n  margin-top: 12px;\n"]))),de=m.default.a(c||(c=Object(i.a)(["\n  color: ",";\n"])),E.secondary),ue=t(1881),be=t(91),je=t(1923),fe=t.n(je),he=t(638),pe=t(628),Oe=t(1638),me=t(193),xe=t(359),ge=t(1603),ve=t(178),we=t(573),ye=t(1595),ke=t(350);var Se,Ce,_e,Ne,Ee,Te=function(){var e=Object(x.e)(P.d),n=Object(Q.b)().setCurrentStep;Object(j.useEffect)((function(){e||n(0)}),[e,n]);var t=Object(I.d)(),a=Object(x.e)(ke.f),r=t.getState().values,c=t.getState().errors||{},i=r.owners,s=r.safeOwnerENSList,l=r.newSafeThreshold,b=r.maxOwnerNumber,f=function(){var e=Object(u.a)(d.a.mark((function e(n){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.m)(n);case 2:a=e.sent,r=Object.assign(s,Object(o.a)({},n,a)),t.change(M,r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)(ze,{"data-testid":"create-safe-owners-confirmation-step",children:[Object(Z.jsx)(Fe,{color:"primary",noMargin:!0,size:"lg",children:"Your Safe will have one or more owners. We have prefilled the first owner with your connected wallet details, but you are free to change this to a different owner."}),Object(Z.jsxs)(F.a,{color:"primary",size:"lg",children:["Add additional owners (e.g. wallets of your teammates) and specify how many of them have to confirm a transaction before it gets executed. In general, the more confirmations required, the more secure your Safe is.",Object(Z.jsxs)(Ae,{href:"https://help.gnosis-safe.io/en/articles/4772567-what-gnosis-safe- setup-should-i-use",target:"_blank",rel:"noreferrer",title:"Learn about which Safe setup to use",children:[Object(Z.jsx)(y.Text,{size:"xl",as:"span",color:"primary",children:"Learn about which Safe setup to use"}),Object(Z.jsx)(y.Icon,{size:"sm",type:"externalLink",color:"primary"})]}),". The new Safe will ONLY be available on ",Object(Z.jsx)(J.a,{})]})]}),Object(Z.jsx)(ve.a,{}),Object(Z.jsxs)(Le,{children:[Object(Z.jsx)(z.a,{xs:3,children:"NAME"}),Object(Z.jsx)(z.a,{xs:7,children:"ADDRESS"})]}),Object(Z.jsx)(ve.a,{}),Object(Z.jsxs)(S.a,{margin:"md",padding:"md",children:[Object(Z.jsx)(Le,{children:i.map((function(e){var n=e.nameFieldName,o=e.addressFieldName,h=c[o],p=r[o],O="owner-address-0"!==o,m=s[p]||"Owner Name",x=function(){var e=Object(u.a)(d.a.mark((function e(n,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(n);case 2:t.change(o,n),a();case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return Object(Z.jsxs)(j.Fragment,{children:[Object(Z.jsx)(z.a,{xs:3,children:Object(Z.jsx)(Pe,{component:L.a,name:n,placeholder:m,text:"Owner Name",type:"text",validate:Object(we.h)(0,50),testId:n})}),Object(Z.jsx)(z.a,{xs:7,children:Object(Z.jsx)(Oe.a,{fieldMutator:function(){var e=Object(u.a)(d.a.mark((function e(r){var c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(r);case 2:t.change(o,r),(i=null===(c=a[r])||void 0===c?void 0:c.name)&&t.change(n,i);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),inputAdornment:!h&&{endAdornment:Object(Z.jsx)(he.a,{position:"end",children:Object(Z.jsx)(Be,{"data-testid":"".concat(o,"-valid-adornment")})})},name:o,placeholder:"Owner Address*",text:"Owner Address",testId:o})}),Object(Z.jsx)(He,{xs:1,center:"xs",middle:"xs",children:Object(Z.jsx)(ye.a,{handleScan:x,testId:"".concat(o,"-scan-QR")})}),O&&Object(Z.jsx)(He,{xs:1,center:"xs",middle:"xs",children:Object(Z.jsx)(xe.a,{onClick:function(){return function(e){var n=e.addressFieldName,a=i.filter((function(e){return e.addressFieldName!==n}));t.change(R,a),t.change(n,void 0);var r=b-1;t.change(D,r),l>a.length&&t.change(G,l-1)}({addressFieldName:o})},dataTestId:"".concat(o,"-remove-button"),children:Object(Z.jsx)(y.Icon,{size:"sm",type:"delete",color:"icon",tooltip:"Delete Owner"})})})]},o)}))}),Object(Z.jsx)(Re,{align:"center",grow:!0,children:Object(Z.jsx)(me.a,{color:"secondary","data-testid":"add-new-owner",onClick:function(){var e={nameFieldName:"owner-name-".concat(b),addressFieldName:"owner-address-".concat(b)};t.change(R,[].concat(Object(be.a)(i),[e]));var n=b+1;t.change(D,n)},children:Object(Z.jsx)(F.a,{noMargin:!0,size:"lg",children:"+ Add another owner"})})}),Object(Z.jsxs)(ze,{children:[Object(Z.jsx)(S.a,{children:Object(Z.jsx)(F.a,{children:"Any transaction requires the confirmation of:"})}),Object(Z.jsxs)(Re,{align:"center",grow:!0,children:[Object(Z.jsx)(z.a,{xs:1,children:Object(Z.jsx)(A.a,{component:ge.a,"data-testid":"threshold-selector-input",name:G,validate:Object(we.d)(we.p,Object(we.i)(1)),children:i.map((function(e,n){return Object(Z.jsx)(pe.a,{value:n+1,"data-testid":"threshold-selector-option-".concat(n+1),children:n+1},"threshold-selector-option-".concat(n))}))})}),Object(Z.jsx)(z.a,{xs:11,children:Object(Z.jsxs)(Me,{noMargin:!0,children:["out of ",i.length," owner(s)"]})})]})]})]})]})},Ie=function(e){var n={},t=e.owners,a=e.newSafeThreshold,r=t.map((function(n){var t=n.addressFieldName;return e[t]}));return t.forEach((function(t,a){var c=t.addressFieldName,i=e[c];r.slice(0,a).includes(i)&&(n[c]=we.a)})),!!a&&a<=t.length||(n.newSafeThreshold=we.b),n},ze=Object(m.default)(S.a)(K||(K=Object(i.a)(["\n  padding: ",";\n"])),E.lg),Fe=Object(m.default)(F.a)($||($=Object(i.a)(["\n  margin-bottom: 12px;\n"]))),Ae=Object(m.default)(y.Link)(ee||(ee=Object(i.a)(["\n  padding: 0 ",";\n  & svg {\n    position: relative;\n    top: 1px;\n    left: ",";\n    height: 14px;\n    width: 14px;\n  }\n"])),E.xs,E.xs),Le=Object(m.default)(C.a)(ne||(ne=Object(i.a)(["\n  padding: "," ",";\n  font-size: ",";\n  color: ",";\n"])),E.sm,E.lg,E.extraSmallFontSize,E.disabled),Pe=Object(m.default)(A.a)(te||(te=Object(i.a)(["\n  margin-right: ",";\n  margin-bottom: ",";\n"])),E.sm,E.sm),Be=Object(m.default)(fe.a)(ae||(ae=Object(i.a)(["\n  color: #03ae60;\n  height: 20px;\n"]))),He=Object(m.default)(z.a)(re||(re=Object(i.a)(["\n  height: 56px;\n  max-width: 32px;\n  cursor: pointer;\n"]))),Re=Object(m.default)(C.a)(ce||(ce=Object(i.a)(["\n  justify-content: center;\n"]))),Me=Object(m.default)(F.a)(ie||(ie=Object(i.a)(["\n  padding-left: 12px;\n"]))),Ge=t(632),De=t(19),qe=t(103),We=t(304),Ye=t(257),Ve=t(95),Xe=function(){var e=Object(u.a)(d.a.mark((function e(n,t,a,r){var c,i,o,s,l,u,j,f;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Object(qe.b)(r,t,n,a),Object(Ve.c)()]);case 2:return c=e.sent,i=Object(b.a)(c,2),o=i[0],s=i[1],l=o*parseInt(s,10),u=Object(De.n)(),j=Object(We.a)(l,u.decimals),f=Object(Ye.a)(j),e.abrupt("return",{gasPrice:s,gasEstimation:o,gasCostFormatted:f,gasLimit:o});case 11:case"end":return e.stop()}}),e)})));return function(n,t,a,r){return e.apply(this,arguments)}}(),Qe=t(164);var Je=function(){var e=Object(x.e)(P.d),n=Object(Q.b)().setCurrentStep;Object(j.useEffect)((function(){e||n(0)}),[e,n]);var t=Object(I.d)(),a=t.getState().values,r=a.suggestedSafeName,c=a.customSafeName||r,i=a.newSafeThreshold,o=a.owners,s=a.safeOwnerENSList,l=o.length,d=a.safeCreationSalt,u=function(e){var n=e.addresses,t=e.numOwners,a=e.safeCreationSalt,r=Object(j.useState)({gasEstimation:0,gasCostFormatted:"< 0.001",gasLimit:0,gasPrice:"0"}),c=Object(b.a)(r,2),i=c[0],o=c[1],s=Object(x.e)(P.g),l=JSON.stringify(n);return Object(j.useEffect)((function(){var e,n=JSON.parse(l);n.length&&t&&s&&(null===(e=Xe(s,t,a,n))||void 0===e||e.then(o))}),[t,a,l,s]),i}({addresses:o.map((function(e){var n=e.addressFieldName;return a[n]})),numOwners:l,safeCreationSalt:d}),h=u.gasCostFormatted,p=u.gasLimit,O=u.gasPrice,m=Object(De.n)();return Object(j.useEffect)((function(){t.change(W,p),t.change(Y,O)}),[p,O,t]),Object(Z.jsxs)(C.a,{"data-testid":"create-safe-review-step",children:[Object(Z.jsx)(z.a,{xs:4,layout:"column",children:Object(Z.jsxs)(Ue,{children:[Object(Z.jsx)(S.a,{margin:"lg",children:Object(Z.jsx)(F.a,{color:"primary",noMargin:!0,size:"lg",children:"Details"})}),Object(Z.jsxs)(S.a,{margin:"lg",children:[Object(Z.jsx)(F.a,{color:"disabled",noMargin:!0,size:"sm",children:"Name of new Safe"}),Object(Z.jsx)(Ze,{color:"primary",noMargin:!0,size:"md",weight:"bolder","data-testid":"create-safe-review-safe-name",children:c})]}),Object(Z.jsxs)(S.a,{margin:"lg",children:[Object(Z.jsx)(F.a,{color:"disabled",noMargin:!0,size:"sm",children:"Any transaction requires the confirmation of:"}),Object(Z.jsx)(F.a,{color:"primary",noMargin:!0,size:"md",weight:"bolder","data-testid":"create-safe-review-threshold-label",children:"".concat(i," out of ").concat(l," owners")})]})]})}),Object(Z.jsx)(z.a,{layout:"column",xs:8,children:Object(Z.jsxs)(Ge.a,{children:[Object(Z.jsx)(Ke,{children:Object(Z.jsx)(F.a,{color:"primary",noMargin:!0,size:"lg",children:"".concat(l," Safe owners")})}),Object(Z.jsx)(ve.a,{}),o.map((function(e){var n=e.nameFieldName,t=e.addressFieldName,r=a[t],c=a[n]||s[r];return Object(Z.jsxs)(f.a.Fragment,{children:[Object(Z.jsx)($e,{children:Object(Z.jsx)(z.a,{align:"center",xs:12,"data-testid":"create-safe-owner-details-".concat(r),children:Object(Z.jsx)(Qe.a,{hash:r,name:c,showAvatar:!0,showCopyBtn:!0,explorerUrl:Object(De.i)(r)})})}),Object(Z.jsx)(ve.a,{})]},"owner-".concat(t))}))]})}),Object(Z.jsx)(en,{align:"center",children:Object(Z.jsxs)(F.a,{color:"primary",noMargin:!0,size:"lg",children:["You're about to create a new Safe on ",Object(Z.jsx)(J.a,{})," and will have to confirm a transaction with your currently connected wallet. The creation will cost approximately ",h," ",m.symbol,". The exact amount will be determined by your wallet."]})})]})},Ue=Object(m.default)(S.a)(Se||(Se=Object(i.a)(["\n  padding: ",";\n  border-right: solid 1px ",";\n  height: 100%;\n"])),E.lg,E.border),Ze=Object(m.default)(F.a)(Ce||(Ce=Object(i.a)(["\n  text-overflow: ellipsis;\n  overflow: hidden;\n"]))),Ke=Object(m.default)(S.a)(_e||(_e=Object(i.a)(["\n  padding: ",";\n"])),E.lg),$e=Object(m.default)(C.a)(Ne||(Ne=Object(i.a)(["\n  align-items: center;\n  min-width: fit-content;\n  padding: ",";\n  padding-left: ",";\n"])),E.sm,E.lg),en=Object(m.default)(C.a)(Ee||(Ee=Object(i.a)(["\n  background-color: ",";\n  padding: ",";\n  text-align: center;\n"])),E.background,E.lg),nn=t(106),tn=t(2336),an=t(46),rn=t(166),cn=t(22);function on(e){return sn.apply(this,arguments)}function sn(){return(sn=Object(u.a)(d.a.mark((function e(n){var t,a,r,c,i,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.sender,a=n.hash,r=n.nonce,c=n.data,i=Object(U.j)(),e.next=4,i.eth.getBlock("latest",!0);case 4:return o=e.sent,s=o.transactions.find((function(e){return Object(an.f)(e.from,t)&&e.nonce===r&&!Object(rn.a)(e.hash,a)&&Object(rn.a)(e.input,c)})),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ln,dn,un,bn,jn,fn=function e(n,t){var a=n.sender,r=n.hash,c=n.data,i=n.nonce,o=n.gasPrice,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,b=Object(U.j)();return new Promise((function(n,j){var f,h=(t||{}).maxRetries;if(l>(void 0===h?720:h))j(new cn.a(cn.b._805,"max retries reached"));else{var p=function(){var f=Object(u.a)(d.a.mark((function u(){var f,h,p,O,m;return d.a.wrap((function(d){for(;;)switch(d.prev=d.next){case 0:if(null!=i&&null!=o){d.next=12;break}return f={sender:a,hash:r,data:c},d.prev=2,d.next=5,b.eth.getTransaction(r);case 5:(h=d.sent)&&(f=Object(s.a)(Object(s.a)({},f),{},{nonce:h.nonce,gasPrice:h.gasPrice})),d.next=11;break;case 9:d.prev=9,d.t0=d.catch(2);case 11:return d.abrupt("return",e(f,t,l+1).then(n).catch(j));case 12:return d.prev=12,d.next=15,b.eth.getTransactionReceipt(r);case 15:if(!(p=d.sent)){d.next=18;break}return d.abrupt("return",n(p));case 18:d.next=22;break;case 20:d.prev=20,d.t1=d.catch(12);case 22:return d.prev=22,d.next=25,on({sender:a,hash:r,nonce:i,data:c});case 25:if(!(O=d.sent)){d.next=33;break}return d.next=29,b.eth.getTransactionReceipt(O.hash);case 29:if(!(m=d.sent)){d.next=32;break}return d.abrupt("return",n(m));case 32:return d.abrupt("return",e({sender:a,nonce:i,hash:O.hash,data:O.input,gasPrice:O.gasPrice},t,l+1).then(n).catch(j));case 33:d.next=37;break;case 35:d.prev=35,d.t2=d.catch(22);case 37:e({sender:a,hash:r,data:c,nonce:i,gasPrice:o},t,l+1).then(n).catch(j);case 38:case"end":return d.stop()}}),u,null,[[2,9],[12,20],[22,35]])})));return function(){return f.apply(this,arguments)}}();setTimeout(p,null!==(f=null===t||void 0===t?void 0:t.delay)&&void 0!==f?f:5e3)}}))},hn=Object(m.default)(y.Text)(ln||(ln=Object(i.a)(["\n  display: inline-flex;\n  a {\n    margin-left: 4px;\n  }\n  svg {\n    position: relative;\n    top: 4px;\n    left: 4px;\n  }\n"]))),pn=Object(m.default)(me.a)(dn||(dn=Object(i.a)(["\n  margin-right: 16px;\n"]))),On=m.default.div(un||(un=Object(i.a)(["\n  width: 100%;\n  height: 76px;\n\n  button {\n    margin-top: 24px;\n  }\n"]))),mn=m.default.span(bn||(bn=Object(i.a)(["\n  margin-left: 10px;\n"]))),xn=function(e){var n=e.safeCreationTxHash,t=Object(De.m)(n),a=/(http|https):\/\/(\w+\.\w+)\/.*/i.exec(t),r=null!==a?a[2]:"Network Explorer";return Object(Z.jsxs)("span",{children:[Object(Z.jsx)(y.Text,{size:"xl",children:"This process should take a couple of minutes."}),Object(Z.jsxs)(hn,{size:"xl",children:["Follow the progress on"," ",Object(Z.jsxs)(y.Link,{href:t,target:"_blank",rel:"noopener noreferrer","data-testid":"safe-create-explorer-link",title:"More info about this in Etherscan",children:[Object(Z.jsx)(y.Text,{size:"xl",as:"span",color:"primary",children:r}),Object(Z.jsx)(y.Icon,{size:"sm",type:"externalLink",color:"primary"})]})]})]})},gn=function(e){var n=e.onCancel,t=e.onRetry;return Object(Z.jsxs)(On,{children:[Object(Z.jsx)(ve.a,{}),Object(Z.jsx)(pn,{onClick:n,variant:"contained",children:"Cancel"}),Object(Z.jsx)(me.a,{color:"primary",onClick:t,variant:"contained",children:"Retry"})]})},vn=[{id:"1",label:"Waiting for transaction confirmation",description:void 0,instruction:"Please confirm the Safe creation in your wallet",footerComponent:null},{id:"2",label:"Transaction submitted",description:void 0,instruction:"Please do not leave the page",footerComponent:xn},{id:"3",label:"Validating transaction",description:void 0,instruction:"Please do not leave the page",footerComponent:xn},{id:"4",label:"Deploying smart contract",description:void 0,instruction:"Please do not leave the page",footerComponent:xn},{id:"5",label:"Generating your Safe",description:void 0,instruction:"Please do not leave the page",footerComponent:xn},{id:"6",label:"Success",description:"Your Safe was created successfully",instruction:void 0,footerComponent:function(e){var n=e.continueButtonDisabled,t=e.onContinue;return Object(Z.jsxs)(On,{children:[Object(Z.jsx)(ve.a,{}),Object(Z.jsx)(me.a,{color:"primary",disabled:n,onClick:t,variant:"contained","data-testid":"continue-btn",children:n?Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(y.Loader,{size:"xs",color:"secondaryLight"})," ",Object(Z.jsx)(mn,{children:"Loading your Safe"})]}):Object(Z.jsx)(Z.Fragment,{children:"Get started"})})]})}}],wn=t(129),yn=t.p+"static/media/safe-created.99c91369.svg",kn=t.p+"static/media/vault-error.17985c86.svg",Sn=t.p+"static/media/creation-process.b0164935.gif",Cn=t(88),_n=t(114),Nn=t(2344),En=t.n(Nn),Tn=t(140),In=t(66),zn=t(24);En.a.addABI(null===(jn=Object(Tn.getProxyFactoryDeployment)({version:zn.j}))||void 0===jn?void 0:jn.abi);var Fn,An,Ln,Pn,Bn,Hn,Rn,Mn,Gn,Dn,qn,Wn,Yn,Vn,Xn,Qn=function(e){var n,t=En.a.decodeLogs(e).find((function(e){return"ProxyCreation"===e.name})),a=null===t||void 0===t||null===(n=t.events)||void 0===n?void 0:n.find((function(e){return"proxy"===e.name}));return Object(In.a)((null===a||void 0===a?void 0:a.value)||"")},Jn=function(e){var n,t=e.creationTxHash,a=e.onCancel,r=e.onRetry,c=e.onSuccess,i=e.submittedPromise,o=Object(j.useState)(!0),l=Object(b.a)(o,2),f=l[0],h=l[1],p=Object(j.useState)(0),O=Object(b.a)(p,2),m=O[0],g=O[1],v=Object(j.useState)(""),w=Object(b.a)(v,2),k=w[0],S=w[1],C=Object(j.useState)(""),_=Object(b.a)(C,2),N=_[0],E=_[1],T=Object(j.useState)(!1),I=Object(b.a)(T,2),z=I[0],F=I[1],A=Object(j.useState)(!1),L=Object(b.a)(A,2),B=L[0],H=L[1],R=Object(j.useState)(!1),M=Object(b.a)(R,2),G=M[0],D=M[1],q=Object(j.useState)(!1),W=Object(b.a)(q,2),Y=W[0],V=W[1],X=Object(x.e)(P.d),Q=Object(x.d)(),J=function(e){return 0===e}(m),K=Object(j.useCallback)((function(e){Object(U.k)(e)?Q(Object(_n.b)(Object(s.a)({},Cn.a.TX_PENDING_MSG))):Q(Object(_n.b)(Object(s.a)(Object(s.a)({},Cn.a.CREATE_SAFE_FAILED_MSG),{},{message:"".concat(Cn.a.CREATE_SAFE_FAILED_MSG.message," \u2013 ").concat(e.message)})))}),[Q]),$=Object(j.useCallback)((function(e){H(!1),D(!1),V(!1),F(!0),Object(cn.c)(cn.b._800,e.message),K(e)}),[H,D,V,F,K]),ee=function(){g(0),F(!1),r()};return Object(j.useEffect)((function(){X&&h(!1)}),[X]),Object(j.useEffect)((function(){if(void 0!==i){var e=function(){var e=Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(0),e.prev=1,e.next=4,i;case 4:n=e.sent,S(n.transactionHash),g(1),H(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),$(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();e()}}),[i,$]),Object(j.useEffect)((function(){void 0!==t&&(S(t),g(1),H(!0))}),[t]),Object(j.useEffect)((function(){if(B){var e=function(){var e=Object(u.a)(d.a.mark((function e(n){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(U.i)(),e.next=3,t.eth.getTransaction(n);case 3:if(null!==e.sent.blockNumber){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,t.eth.getTransactionReceipt(n);case 8:if(e.sent.status){e.next=11;break}throw Error("TX status reverted");case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),n=setInterval(Object(u.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(m<4&&g(m+1),void 0!==i&&i.then((function(){g(4),D(!0),H(!1)})),void 0===t){n.next=13;break}return n.prev=3,n.next=6,e(t);case 6:n.sent&&(g(4),D(!0),H(!1)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),$(n.t0);case 13:case"end":return n.stop()}}),n,null,[[3,10]])}))),3e3);return function(){clearInterval(n)}}}),[t,i,B,m,z,$]),Object(j.useEffect)((function(){var e,n=function(){var n=Object(u.a)(d.a.mark((function n(t){var a,r,c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a=Object(U.i)(),n.next=4,a.eth.getTransactionReceipt(t);case 4:r=n.sent,c=r.events?r.events.ProxyCreation.returnValues.proxy:Qn(r.logs),E(c),e=setInterval(Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.eth.getCode(c);case 2:e.sent!==Ve.a&&g(5);case 4:case"end":return e.stop()}}),e)}))),1e3),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),$(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}();if(G)return"string"===typeof k&&n(k),function(){clearInterval(e)}}),[k,G,$]),f||void 0===m?Object(Z.jsx)(Un,{"data-testid":"create-safe-loader",children:Object(Z.jsx)(y.Loader,{size:"md"})}):(z?n=gn:vn[m].footerComponent&&(n=vn[m].footerComponent),Object(Z.jsxs)(Zn,{children:[Object(Z.jsx)(Kn,{tag:"h2",testId:"safe-creation-process-title",children:"Safe creation process"}),Object(Z.jsx)($n,{children:Object(Z.jsx)(y.Stepper,{activeStepIndex:m,error:z,orientation:"vertical",steps:vn})}),Object(Z.jsxs)(et,{children:[Object(Z.jsx)(at,{children:Object(Z.jsx)(wn.a,{alt:"Vault",height:92,src:z?kn:m<=4?Sn:yn})}),Object(Z.jsx)(rt,{children:Object(Z.jsx)(nt,{children:vn[m].description||vn[m].label})}),vn[m].instruction&&Object(Z.jsx)(ct,{children:Object(Z.jsx)(tt,{color:"primary",inversecolors:J.toString(),noMargin:!0,size:"md",$stepIndex:m,children:z?"You can Cancel or Retry the Safe creation process.":vn[m].instruction})}),Object(Z.jsx)(it,{children:n?Object(Z.jsx)(n,{continueButtonDisabled:Y,onCancel:a,onClick:ee,onContinue:function(){V(!0),c(N)},onRetry:ee,safeCreationTxHash:k}):null})]}),0!==m&&Object(Z.jsx)(ot,{color:"primary",minWidth:140,onClick:a,"data-testid":"safe-creation-back-btn",children:"Back"})]}))},Un=m.default.div(Fn||(Fn=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"]))),Zn=m.default.div(An||(An=Object(i.a)(["\n  display: grid;\n  grid-template-columns: 250px auto;\n  grid-template-rows: 43px auto;\n  margin-bottom: 30px;\n"]))),Kn=Object(m.default)(_.a)(Ln||(Ln=Object(i.a)(["\n  grid-column: 1/3;\n  grid-row: 1;\n  margin: 7px 0 0 0 !important;\n"]))),$n=m.default.div(Pn||(Pn=Object(i.a)(["\n  grid-column: 1;\n  grid-row: 2;\n"]))),et=m.default.div(Bn||(Bn=Object(i.a)(["\n  grid-column: 2;\n  grid-row: 2;\n  text-align: center;\n  background-color: ",";\n  border-radius: 5px;\n  min-width: 700px;\n  padding-top: 70px;\n  box-shadow: 0 0 10px 0 rgba(33, 48, 77, 0.1);\n\n  display: grid;\n  grid-template-rows: 100px 50px 110px 1fr;\n"])),(function(e){return e.theme.colors.white})),nt=m.default.div(Hn||(Hn=Object(i.a)(["\n  font-size: 20px;\n  padding-top: 10px;\n"]))),tt=Object(m.default)(F.a)(Rn||(Rn=Object(i.a)(["\n  background-color: ",";\n  color: ",";\n  padding: 28px;\n  font-size: 20px;\n  margin-bottom: 16px;\n  transition: color 0.3s ease-in-out, background-color 0.3s ease-in-out;\n"])),(function(e){return 0===e.$stepIndex?E.connected:E.background}),(function(e){var n=e.theme;return 0===e.$stepIndex?n.colors.white:E.fontColor})),at=m.default.div(Mn||(Mn=Object(i.a)(["\n  grid-row: 1;\n"]))),rt=m.default.div(Gn||(Gn=Object(i.a)(["\n  grid-row: 2;\n"]))),ct=m.default.div(Dn||(Dn=Object(i.a)(["\n  grid-row: 3;\n  margin: 27px 0;\n"]))),it=m.default.div(qn||(qn=Object(i.a)(["\n  grid-row: 4;\n\n  padding: 10px 0;\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n"]))),ot=Object(m.default)(me.a)(Wn||(Wn=Object(i.a)(["\n  grid-column: 2;\n  margin: 20px auto 0;\n"]))),st=t(155),lt=t(231),dt=t(326),ut=t(407),bt=t(134),jt=t(354),ft=t(479),ht=t(56),pt=Object(m.default)(Qe.a)(Yn||(Yn=Object(i.a)(["\n  display: inline-flex;\n"]))),Ot=function(){N.s.push(N.j)},mt=function(e){return new Promise((function(n){return setTimeout(n,e)}))},xt=function(e){var n="[ethjs-query] while formatting outputs from RPC ";if(!e.message.startsWith(n))return e;var t=e.message.split(n).pop()||"",a="";try{a=JSON.parse(t.slice(1,-1)).value.message}catch(r){a=""}return a?new Error(a):e};var gt,vt,wt,yt,kt,St=function(){var e=Object(j.useState)(),n=Object(b.a)(e,2),t=n[0],a=n[1],r=Object(j.useState)(),c=Object(b.a)(r,2),i=c[0],l=c[1],f=Object(st.i)().trackEvent,h=Object(x.d)(),p=Object(x.e)(P.g),O=Object(x.e)(ht.a),m=Object(j.useState)(!1),g=Object(b.a)(m,2),v=g[0],w=g[1],k=Object(j.useState)({safeAddress:""}),S=Object(b.a)(k,2),C=S[0],_=S[1],E=Object(j.useState)(!1),T=Object(b.a)(E,2),I=T[0],z=T[1],A=Object(j.useState)(""),L=Object(b.a)(A,2),B=L[0],H=L[1],R=Object(j.useCallback)((function(){var e=Object(nn.b)(X);e?(a(e.safeCreationTxHash),l(new Promise((function(n,t){var a=e.newSafeThreshold,r=e.owners.map((function(n){var t=n.addressFieldName;return e[t]})),c=e.safeCreationSalt,i=e.gasLimit,l=e.gasPrice,d=Object(qe.h)(r,a,c),u=Object(ft.b)(p,{ethGasLimit:i.toString(),ethGasPriceInGWei:l});d.send(u).once("transactionHash",(function(a){Object(nn.d)(X,Object(s.a)(Object(o.a)({},V,a),e)),fn({sender:p,hash:a,data:d.encodeABI()}).then((function(e){console.log("Speed up tx mined:",e),n(e)})).catch((function(e){t(xt(e))}))})).then((function(e){console.log("First tx mined:",e),n(e)})).catch((function(e){t(xt(e))}))})))):Ot()}),[p]);Object(j.useEffect)((function(){var e=Object(nn.b)(X);if(e){var n=e.safeCreationTxHash;n?a(n):R()}else Ot()}),[R]);var M=function(){var e=Object(u.a)(d.a.mark((function e(n){var t,a,r,c,i,o,s,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(nn.b)(X)){e.next=4;break}return Ot(),e.abrupt("return");case 4:return a=t.safeCreationTxHash,r=t.suggestedSafeName,c=t.customSafeName||r,i=t.owners,o=i.map((function(e){var n=e.nameFieldName,a=e.addressFieldName,r=t[a];return Object(jt.b)({address:t[a],name:t[n]||t.safeOwnerENSList[r],chainId:O})})),s=Object(jt.b)({address:n,name:c,chainId:O}),e.next=12,h(Object(bt.e)([].concat(Object(be.a)(o),[s])));case 12:return f(st.d.CREATE_SAFE),e.next=15,mt(5e3);case 15:return e.prev=15,e.next=18,Object(tn.backOff)((function(){return Object(dt.a)(n)}),{startingDelay:750,maxDelay:2e4,numOfAttempts:19,retry:function(e){return console.info("waiting for client-gateway to provide safe information",e),!0}});case 18:e.next=25;break;case 20:return e.prev=20,e.t0=e.catch(15),H(n),z(!0),e.abrupt("return");case 25:return e.next=27,Object(ut.a)(n);case 27:return l=e.sent,e.next=30,h(Object(lt.b)(l));case 30:w(!0),_({safeAddress:l.address,safeName:c,safeCreationTxHash:a});case 32:case"end":return e.stop()}}),e,null,[[15,20]])})));return function(n){return e.apply(this,arguments)}}(),G=function(){Object(nn.c)(X),Ot()};function D(){Object(nn.c)(X);var e=C.safeName,n=C.safeCreationTxHash,t=C.safeAddress;N.s.push({pathname:Object(N.o)(N.g.ASSETS_BALANCES,{shortName:Object(De.r)(),safeAddress:t}),state:{name:e,tx:n}})}return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(Jn,{creationTxHash:t,onCancel:G,onRetry:function(){var e=Object(nn.b)(X);e?(a(void 0),delete e.safeCreationTxHash,Object(nn.d)(X,e),R()):Ot()},onSuccess:M,submittedPromise:i}),v&&Object(Z.jsx)(y.GenericModal,{onClose:D,title:"Safe Created!",body:Object(Z.jsxs)("div",{"data-testid":"safe-created-popup",children:[Object(Z.jsxs)(F.a,{children:["You just created a new Safe on ",Object(Z.jsx)(J.a,{})]}),Object(Z.jsxs)(F.a,{children:["You will only be able to use this Safe on ",Object(Z.jsx)(J.a,{})]}),Object(Z.jsxs)(F.a,{children:["If you send assets on other networks to this address,"," ",Object(Z.jsx)(_t,{children:"you will not be able to access them"})]})]}),footer:Object(Z.jsx)(Ct,{children:Object(Z.jsx)(me.a,{testId:"safe-created-button",onClick:D,color:"primary",type:"button",size:"small",variant:"contained",children:"Continue"})})}),I&&B&&Object(Z.jsx)(y.GenericModal,{onClose:G,title:"Unable to load the new Safe",body:Object(Z.jsx)("div",{children:Object(Z.jsxs)(F.a,{children:["We are currently unable to load the Safe but it was successfully created and can be found ",Object(Z.jsx)("br",{}),"under the following address"," ",Object(Z.jsx)(pt,{hash:B,showCopyBtn:!0,explorerUrl:Object(De.i)(B)})]})}),footer:Object(Z.jsx)(Ct,{children:Object(Z.jsx)(me.a,{onClick:G,color:"primary",type:"button",size:"small",variant:"contained",children:"OK"})})})]})},Ct=m.default.div(Vn||(Vn=Object(i.a)(["\n  text-align: center;\n"]))),_t=m.default.span(Xn||(Xn=Object(i.a)(["\n  font-weight: ",";\n"])),E.boldFont),Nt=t(2970),Et=t(2971),Tt=t(352),It=t.n(Tt),zt=t(2972),Ft=t(1554),At=t(216),Lt=t(171),Pt=t(413),Bt=t(755),Ht=t(108);var Rt,Mt,Gt=Object(m.default)(S.a)(gt||(gt=Object(i.a)(["\n  padding: ",";\n"])),E.lg),Dt=m.default.div(vt||(vt=Object(i.a)(["\n  margin: ",";\n  display: flex;\n  justify-content: center;\n"])),E.lg),qt=Object(m.default)(Et.a)(wt||(wt=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 16px 24px;\n"]))),Wt=Object(m.default)(zt.a)(yt||(yt=Object(i.a)(["\n  min-width: 500px;\n"]))),Yt=m.default.div(kt||(kt=Object(i.a)(["\n  display: flex;\n  margin: "," auto;\n  cursor: pointer;\n  max-width: 50%;\n\n  & > span {\n    font-size: 13px;\n  }\n"])),E.lg),Vt=function(){var e=Object(j.useState)(!1),n=Object(b.a)(e,2),t=n[0],a=n[1],r=!!Object(x.e)(P.d),c=Object(x.e)(P.f);function i(){a(!0)}var o=Object(j.useCallback)((function(e){Object(Lt.a)(e),a(!1)}),[]);return Object(Z.jsxs)(Gt,{"data-testid":"select-network-step",children:[r?Object(Z.jsxs)(F.a,{color:"primary",noMargin:!0,size:"lg",children:["Select network on which to create your Safe. The app is currently pointing to"," ",Object(Z.jsx)(J.a,{onClick:i})]}):Object(Z.jsx)(F.a,{color:"primary",noMargin:!0,size:"lg",children:"In order to select the network to create your Safe, you need to connect a wallet"}),Object(Z.jsx)(Dt,{children:r?Object(Z.jsx)(y.ButtonLink,{type:"button",onClick:i,color:"primary","data-testid":"switch-network-link",children:"Switch Network"}):Object(Z.jsx)(Pt.a,{"data-testid":"heading-connect-btn"})}),r&&c&&Object(Z.jsxs)(F.a,{color:"primary",size:"lg",children:["Your wallet connection must match the selected network. ",Object(Z.jsx)(Bt.a,{})]}),Object(Z.jsxs)(Nt.a,{onClose:function(){return a(!1)},"aria-labelledby":"select-network","data-testid":"select-network-popup",open:t,children:[Object(Z.jsxs)(qt,{disableTypography:!0,children:[Object(Z.jsx)(At.a,{variant:"h5",children:"Select Network"}),Object(Z.jsx)(h.a,{"aria-label":"close",onClick:function(){return a(!1)},children:Object(Z.jsx)(It.a,{})})]}),Object(Z.jsx)(Wt,{dividers:!0,children:Object(Z.jsx)(Ft.a,{component:"div",children:Object(Ht.b)().map((function(e){return Object(Z.jsx)(Yt,{role:"button",onClick:function(){return o(e.chainId)},children:Object(Z.jsx)(J.a,{networkInfo:e,flexGrow:!0})},e.chainId)}))})})]})]})};n.default=function(){var e=Object(j.useState)(),n=Object(b.a)(e,2),t=n[0],a=n[1],r=Object(j.useState)(!0),c=Object(b.a)(r,2),i=c[0],l=c[1],f=Object(x.e)(P.d),h=Object(x.e)(P.f),p=!!f&&!h;Object(j.useEffect)((function(){var e=function(){var e=Object(u.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,Promise.resolve(Object(nn.b)(X));case 3:n=e.sent,p&&a(n),l(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[p]);var m=Object(x.e)(P.g),g=Object(x.e)(ke.f),E=Object(w.i)(),I=Object(ue.a)(),z=Object(j.useState)(),F=Object(b.a)(z,2),A=F[0],L=F[1];return Object(j.useEffect)((function(){if(p&&m){var e=function(e,n,t,a){var r,c,i,l=v.a.parse(t.search,{arrayFormat:"comma"}),d=l.name,u=l.owneraddresses,b=l.ownernames,j=l.threshold,f=!!u,h=Array.isArray(u)?u:[u],p=f?h:[e],O=Array.isArray(b)?b:[b],m=[(null===(r=n[e])||void 0===r?void 0:r.name)||""],x=f?O:m,g=Number(j),w=j&&!Number.isNaN(j)&&g<=p.length&&g>0;return Object(s.a)(Object(s.a)(Object(s.a)((c={},Object(o.a)(c,H,a),Object(o.a)(c,B,d),Object(o.a)(c,G,w?j:1),Object(o.a)(c,R,p.map((function(e,n){return{nameFieldName:"owner-name-".concat(n),addressFieldName:"owner-address-".concat(n)}}))),Object(o.a)(c,M,{}),c),p.reduce((function(e,n,t){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},"owner-address-".concat(t),n))}),{})),x.reduce((function(e,n,t){return Object(s.a)(Object(s.a)({},e),{},Object(o.a)({},"owner-name-".concat(t),n))}),{})),{},(i={},Object(o.a)(i,D,p.length),Object(o.a)(i,q,Date.now()),i))}(m,g,E,I);L(e)}}),[p,m,g,E,I]),i?Object(Z.jsx)(Xt,{"data-testid":"create-safe-loader",children:Object(Z.jsx)(y.Loader,{size:"md"})}):t?Object(Z.jsx)(St,{}):Object(Z.jsx)(k.a,{children:Object(Z.jsxs)(S.a,{children:[Object(Z.jsxs)(C.a,{align:"center",children:[Object(Z.jsx)(Qt,{disableRipple:!0,onClick:N.s.goBack,children:Object(Z.jsx)(O.a,{})}),Object(Z.jsx)(_.a,{tag:"h2",children:"Create new Safe"})]}),Object(Z.jsxs)(T.b,{initialValues:A,onSubmit:function(e){Object(nn.d)(X,Object(s.a)({},e)),a(e)},testId:"create-safe-form",children:[Object(Z.jsx)(T.a,{label:"Connect wallet & select network",nextButtonLabel:"Continue",disableNextButton:!p,children:Object(Z.jsx)(Vt,{})}),Object(Z.jsx)(T.a,{label:"Name",nextButtonLabel:"Continue",children:Object(Z.jsx)(oe,{})}),Object(Z.jsx)(T.a,{label:"Owners and Confirmations",nextButtonLabel:"Continue",validate:Ie,children:Object(Z.jsx)(Te,{})}),Object(Z.jsx)(T.a,{label:"Review",nextButtonLabel:"Create",children:Object(Z.jsx)(Je,{})})]})]})})};var Xt=m.default.div(Rt||(Rt=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"]))),Qt=Object(m.default)(h.a)(Mt||(Mt=Object(i.a)(["\n  color: ",";\n  padding: ",";\n  margin-right: 5px;\n"])),E.secondary,E.sm)}}]);
//# sourceMappingURL=42.9b85d05c.chunk.js.map